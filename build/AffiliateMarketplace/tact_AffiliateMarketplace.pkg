{"name":"AffiliateMarketplace","code":"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","abi":"{\"name\":\"AffiliateMarketplace\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdminWithdraw\",\"header\":26200810,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"wallets\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"bool\"}}]},{\"name\":\"AdminUpdateFeeBalance\",\"header\":2718584125,\"fields\":[{\"name\":\"advertiserFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliateFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AdminReplenish\",\"header\":58961501,\"fields\":[]},{\"name\":\"AdminModifyCampaignFeePercentage\",\"header\":1116890518,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AdminStopCampaign\",\"header\":1822632228,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdminResumeCampaign\",\"header\":460159264,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdminSeizeCampaignBalance\",\"header\":1433233099,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdminJettonNotificationMessageFailure\",\"header\":3769391455,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AdminWithdrawUSDTToPayout\",\"header\":2703619106,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AdminPayAffiliateUSDTBounced\",\"header\":1452035766,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AdvertiserWithdrawFundsEvent\",\"header\":3552449590,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"CampaignCreatedEvent\",\"header\":2452245169,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"campaignContractAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdvertiserSignedCampaignDetailsEvent\",\"header\":1529127575,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AffiliateCreatedEvent\",\"header\":2267067737,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}}]},{\"name\":\"AdvertiserRemovedAffiliateEvent\",\"header\":1530383439,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdvertiserApprovedAffiliateListEvent\",\"header\":4109738705,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdvertiserDeployNewCampaign\",\"header\":1179651103,\"fields\":[]},{\"name\":\"ParentToChildDeployCampaign\",\"header\":1292517596,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ParentToChildUpdateFeePercentage\",\"header\":2049922941,\"fields\":[{\"name\":\"feePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ParentToChildSeizeCampaign\",\"header\":340595563,\"fields\":[]},{\"name\":\"ParentToChildJettonNotificationMessageFailure\",\"header\":1354800261,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ParentToChildWithdrawUSDTToPayout\",\"header\":2232130989,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ParentToChildPayAffiliateUSDTBounced\",\"header\":2591643766,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"BotUserAction\",\"header\":1940543113,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"userActionOpCode\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"isPremiumUser\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"PayAffiliate\",\"header\":2310656706,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AffiliateCreateNewAffiliate\",\"header\":820291840,\"fields\":[]},{\"name\":\"AffiliateWithdrawEarnings\",\"header\":2309430758,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AdvertiserWithdrawFunds\",\"header\":3579069153,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AdvertiserAddNewUserOpCode\",\"header\":237456654,\"fields\":[{\"name\":\"userOpCode\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"isPremiumUserOpCode\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"costPerAction\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AdvertiserSetCampaignDetails\",\"header\":1253088072,\"fields\":[{\"name\":\"campaignDetails\",\"type\":{\"kind\":\"simple\",\"type\":\"CampaignDetails\",\"optional\":false}}]},{\"name\":\"AdvertiserUserAction\",\"header\":3231438857,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"userActionOpCode\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"isPremiumUser\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"AdvertiserRemoveAffiliate\",\"header\":2637094481,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AdvertiserApproveAffiliate\",\"header\":1560570076,\"fields\":[{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AdvertiserReplenish\",\"header\":1319387318,\"fields\":[]},{\"name\":\"AdvertiserReplenishGasFeesForUSDTCampaign\",\"header\":3170273034,\"fields\":[]},{\"name\":\"AdvertiserSignOffWithdraw\",\"header\":2469363792,\"fields\":[{\"name\":\"setAffiliatesWithdrawEarnings\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}}]},{\"name\":\"ChildToParentCampaignDeployedSuccessfully\",\"header\":370750836,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChildToParentAffiliateCreated\",\"header\":3477708169,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}}]},{\"name\":\"ChildToParentAdvertiserSignedCampaignDetails\",\"header\":1248894233,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChildToParentAdvertiserWithdrawFunds\",\"header\":2584288256,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ChildToParentAdvertiserApprovedAffiliate\",\"header\":1498234406,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChildToParentAdvertiserRemovedAffiliate\",\"header\":2190513838,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"affiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"JettonTransferNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forwardPayload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CampaignDetails\",\"header\":null,\"fields\":[{\"name\":\"regularUsersCostPerAction\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"premiumUsersCostPerAction\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"isPublicCampaign\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"campaignValidForNumDays\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":true,\"format\":32}},{\"name\":\"paymentMethod\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"requiresAdvertiserApprovalForWithdrawl\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"UserActionStats\",\"header\":null,\"fields\":[{\"name\":\"numActions\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"lastUserActionTimestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"AffiliateData\",\"header\":null,\"fields\":[{\"name\":\"affiliate\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"userActionsStats\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UserActionStats\",\"valueFormat\":\"ref\"}},{\"name\":\"premiumUserActionsStats\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"UserActionStats\",\"valueFormat\":\"ref\"}},{\"name\":\"pendingApprovalEarnings\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"totalEarnings\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"withdrawEarnings\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"CampaignData\",\"header\":null,\"fields\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"payout\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"campaignDetails\",\"type\":{\"kind\":\"simple\",\"type\":\"CampaignDetails\",\"optional\":false}},{\"name\":\"numAffiliates\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"totalAffiliateEarnings\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"campaignStartTimestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"lastUserActionTimestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserWithdrawls\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserSignOffs\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserReplenishCampaign\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserReplenishGasFees\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numUserActions\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"campaignBalance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"maxCpaValue\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"contractTonBalance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"contractAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"contractUSDTBalance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"contractUsdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"advertiserFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliateFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"campaignHasSufficientFundsToPayMaxCpa\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"isCampaignExpired\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"isCampaignPausedByAdmin\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"campaignHasSufficientTonToPayGasFees\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"isCampaignActive\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"topAffiliates\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}}]},{\"name\":\"JettonWalletData\",\"header\":null,\"fields\":[{\"name\":\"status\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":4}},{\"name\":\"balance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"ownerAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonMasterAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Campaign$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"payout\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"campaignDetails\",\"type\":{\"kind\":\"simple\",\"type\":\"CampaignDetails\",\"optional\":false}},{\"name\":\"bot\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"currAffiliateId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"affiliates\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"AffiliateData\",\"valueFormat\":\"ref\"}},{\"name\":\"state\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"campaignStartTimestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"lastUserActionTimestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserWithdrawls\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserSignOffs\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserReplenishCampaign\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numAdvertiserReplenishGasFees\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"numUserActions\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"totalAffiliateEarnings\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"maxCpaValue\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"affiliateFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiserFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"topAffiliates\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"contractUSDTBalance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"contractUsdtWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AffiliateMarketplace$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"bot\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"numCampaigns\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"usdtMasterAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"usdtWalletBytecode\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"affiliateFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"advertiserFeePercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminReplenish\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminUpdateFeeBalance\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminWithdraw\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminStopCampaign\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminResumeCampaign\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminSeizeCampaignBalance\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminPayAffiliateUSDTBounced\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminJettonNotificationMessageFailure\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdminWithdrawUSDTToPayout\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentAdvertiserApprovedAffiliate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentAdvertiserRemovedAffiliate\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentAdvertiserWithdrawFunds\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentAdvertiserSignedCampaignDetails\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentAffiliateCreated\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AdvertiserDeployNewCampaign\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ChildToParentCampaignDeployedSuccessfully\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Resume\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Stop\"}}],\"getters\":[{\"name\":\"balance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bot\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"numCampaigns\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"campaignContractAddress\",\"arguments\":[{\"name\":\"campaignId\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"advertiser\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"1919\":{\"message\":\"Insufficient USDT funds to make transfer\"},\"2272\":{\"message\":\"Only USDT Campaigns can accept excess TON\"},\"2509\":{\"message\":\"Must have at least one wallet to withdraw to\"},\"5136\":{\"message\":\"Only TON or USDT supported as payment methods\"},\"7354\":{\"message\":\"Bot can verify only op codes under 20000\"},\"8805\":{\"message\":\"Insufficient funds to create affiliate\"},\"9125\":{\"message\":\"withdrawableAmount must be <= pendingApprovalEarnings\"},\"10630\":{\"message\":\"Must withdraw a positive amount\"},\"11661\":{\"message\":\"Only advertiser can verify these events\"},\"12734\":{\"message\":\"Can only add op codes\"},\"12969\":{\"message\":\"Must be in state: STATE_CAMPAIGN_DETAILS_SET_BY_ADVERTISER\"},\"14465\":{\"message\":\"Advertiser can verify only op codes over 20000\"},\"14486\":{\"message\":\"Cannot find cpa for the given op code\"},\"19587\":{\"message\":\"Only the advertiser can remove an existing affiliate\"},\"20411\":{\"message\":\"Insufficient contract funds to repay bot\"},\"22985\":{\"message\":\"Insufficient campaign funds\"},\"24142\":{\"message\":\"Campaign is not active\"},\"26205\":{\"message\":\"Only USDT Campaigns can accept USDT\"},\"26953\":{\"message\":\"Only affiliate can withdraw funds\"},\"27356\":{\"message\":\"Only advertiser can add user op codes\"},\"28586\":{\"message\":\"Advertiser can only modify affiliate earnings only if campaign is setup this requiresApprovalForWithdrawlFlag\"},\"32702\":{\"message\":\"Affiliate in ACTIVE state\"},\"36363\":{\"message\":\"Only the advertiser can remove the campaign and withdraw all funds\"},\"40368\":{\"message\":\"Contract stopped\"},\"40466\":{\"message\":\"Insufficient funds to deploy new campaign\"},\"40755\":{\"message\":\"Only advertiser can send tokens to this contract\"},\"42372\":{\"message\":\"Only bot can invoke this function\"},\"43069\":{\"message\":\"Cannot manually add affiliates to an public campaign\"},\"43147\":{\"message\":\"Inactive affiliate\"},\"44215\":{\"message\":\"Invalid indices\"},\"45028\":{\"message\":\"Insufficient gas fees to withdraw earnings\"},\"46629\":{\"message\":\"Reached max number of affiliates for this campaign\"},\"48069\":{\"message\":\"Affiliate does not exist for this id\"},\"48874\":{\"message\":\"Insufficient contract funds to make payment\"},\"49469\":{\"message\":\"Access denied\"},\"50865\":{\"message\":\"owner must be deployer\"},\"53205\":{\"message\":\"Only the advertiser can replenish the contract\"},\"53296\":{\"message\":\"Contract not stopped\"},\"53456\":{\"message\":\"Affiliate does not exist\"},\"57313\":{\"message\":\"Must be in state: STATE_CAMPAIGN_CREATED\"},\"57567\":{\"message\":\"Only advertiser can set campaign details\"},\"59035\":{\"message\":\"Only contract wallet allowed to invoke\"},\"60504\":{\"message\":\"Can replenish TON for gas fees for USDT camapigns only\"},\"63944\":{\"message\":\"Invalid campaignValidForNumDays param\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.resumable\",\"org.ton.stoppable\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"bot","type":{"kind":"simple","type":"address","optional":false}},{"name":"usdtMasterAddress","type":{"kind":"simple","type":"address","optional":false}},{"name":"usdtWalletBytecode","type":{"kind":"simple","type":"cell","optional":false}},{"name":"advertiserFeePercentage","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"affiliateFeePercentage","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"te6cckEC3wEAPX4AAQHAAQIBSAKOAQW4xKgDART/APSkE/S88sgLBAIBYgVeAvDQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zwRHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERKBBgKSERERExERERAREhEQDxERDw4REA4Q31Uc2zzy4ILI+EMBzH8BygARHREcERsRGhEZERgRFxEWERURFBETERIREREQVeDbPMntVAdaBMrtou37AY60gCDXIXAh10nCH5UwINcLH96CEIm50sK6jpfTHwGCEIm50sK68uCB0x/6AFlsEts8f+Awf+BwIddJwh+VMCDXCx/eIIIQTQpA3LrjAiCCENUydtu64wIgghBzYtCculMICQoB5DDTHwGCEE0KQNy68uCB0x/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwSyFmCEBYZNXRQA8sfyx8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyVYdAYIImJaAcX8EA21t2zwwf8IAUjDTHwGCENUydtu68uCB0z8BMTCCAOab+EJSIMcF8vSBCOBWFMAB8vR/Av6O+zDTHwGCEHNi0Jy68uCB0z/6APpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUEwMQI2wUMDKCAOab+EJSQMcF8vRWGoIAnzMDxwUS8vSBZl1WFcAB8vQKpAqBA+ioUwSogScPoIEnEKkEZqEhwgCRMeMNEqABf+AgCw0C+BEdER4RHREcER4RHBEbER4RG1YeERsRGhEZERgRFxEWERURFBETERIREREQDw4NDAsKCQgHBgUEQxMBER8B2zwRHBEdERwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERNODAAwERIRExESEREREhERERAREREQDxEQD1UOBKKCEImnHea6jpUw0x8BghCJpx3muvLggdMfATHbPH/gIIIQky+AULqOlTDTHwGCEJMvgFC68uCB9AQBMds8f+AgghAUTRNruuMCIIIQSrCbSLoOFBobAvYRHBEdERwRGxEdERsRGhEdERoRGREdERkRGBEdERgRFxEdERcRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JER0IBwZVQNs8ggCv5PhBbyRZDwP+E18DggkxLQC+8vQvgQEBVh9Z9A1voZIwbd8gbpIwbY6H0Ns8bBdvB+KCANDQIW6z8vQgbvLQgG8ngWlJ+EJSgMcF8vSBKYYhwgDy9HCBAQEoBhBYEEcDSHjIVWDbPMkCERMCViEBIG6VMFn0WjCUQTP0FeIIVhGhVhEnqIEnD4xmEAT6oIEnEKkEERJWEqFWFsAAjzpWHAERE39zQzBtbW3bPDB/ESBWEshZghCJudLCUAPLH8sfAfoCyRAjAhESAgERIAFzECRDAG1t2zww4w4RGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERTCwhETAvZXIBEdER4RHREcER4RHBEbER4RG1YeERsRGhEZERgRFxEWERURFBETERIJEREJCREQCRCfEJ4QnRCcEJsQmhgXFhUUQzABER8B2zwRHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERVOEgHEERQRFhEUERMRFRETERIRFBESERERExERERAREhEQDxERDw4REA5VHds8BhEcBgYRGwYGERoGBhEZBgYRGAYGERcGBhEWBgYRFQYGERQGBhETBgYREgYGEREGBhEQBhBvVdBOAEARExEUERMREhETERIRERESEREREBERERAPERAPEF9VDQLyERwRHREcERsRHREbERoRHREaERkRHREZERgRHREYERcRHREXERYRHREWERURHREVERQRHREUERMRHRETERIRHRESERERHRERERARHREQDxEdDw4RHQ4NER0NDBEdDAsRHQsKER0KCREdCREdCAcGVUDbPBEbERwRG1kVAvoRGhEcERoRGREcERkRGBEcERgRFxEcERcRFhEcERYRFREcERURFBEcERQRExEcERMREhEcERIREREcEREREBEcERAPERwPDhEcDg0RHA0MERwMCxEcCwoRHAoJERwJERwIBwZVQIFeThEd2zwBER4B8vSBb6pWEvL0LoEBAXIWA/70hW+lIJESlTFtMm0B4pCK6FtXHQikVhZwgEB/VSBtbW3bPDARGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfEM4QvRCsEJsKEHkQaBBXF8IZA/4gbpIwbY6H0Ns8bBdvB+IgbvLQgG8ngQEBIFYnVCKjQTP0DG+hlAHXADCSW23iIG6zjhsgbvLQgIEjpVMUu/L0UjChUTOhUSOhUOOhUC2RMOJYoBUUQzBwUAaBAQEHyFVg2zzJAhERAlYRASBulTBZ9FowlEEz9BXigQEBIRERjGYYACRZ9HhvpSCUAtQwWJUxbTJtAeIADBBGEDVEAwNaMNMfAYIQFE0Ta7ry4IFtMTDbPCHCAI6FVhki2zzeVhlwgwZ/VSBtbW3bPDB/WE7CBPyPFTDTHwGCEEqwm0i68uCB2zxsFts8f+AgghBOpEC2uo7TMNMfAYIQTqRAtrry4IFtMTCBMqkvwAHy9IIAz9X4QlYaAccF8vQJpPhBbyQTXwNTBKgxgScPoIEnEKkEIMIAjo1WGgF/c0MwbW1t2zwwkTDiCX/gIIIQvPaHCrqDHMIjA/SCAODf+EJWIAHHBfL0ggDf4VYVwADy9IEUECLAAJF/kyLAAeLy9IIA+cgjbpF/mCMgbvLQgMIA4vL0gQEBVFYAWfSEb6UgllAj1wAwWJZsIW0ybQHikIroW4EBAVRVAFn0hG+lIJZQI9cAMFiWbCFtMm0B4pCK6FtXEx0fIgH4ER0RJBEdERwRIxEcERsRIhEbERoRIREaERkRIBEZERgRHxEYERcRHhEXERYRJBEWERURIxEVERQRIhEUERMRIRETERIRIBESERERHxERERARHhEQDxEkDw4RIw4NESINDBEhDAsRIAsKER8KCREeCQgRJAgHESMHBhEiBh4C/AURIQUEESAEAxEfAwIRHgIBESQB2zyBAQEgViQDESYBQTP0eG+lIJZQI9cAMFiWbCFtMm0B4hEeESURHhEdESQRHREcESMRHBEbESIRGxEaESERGhEZESARGREYER8RGBEXER4RFxEWER0RFhEVERwRFREUERsRFBETERoREzkhAfgRHREkER0RHBEjERwRGxEiERsRGhEhERoRGREgERkRGBEfERgRFxEeERcRFhEkERYRFREjERURFBEiERQRExEhERMREhEgERIREREfEREREBEeERAPESQPDhEjDg0RIg0MESEMCxEgCwoRHwoJER4JCBEkCAcRIwcGESIGIAL8BREhBQQRIAQDER8DAhEeAgERJAHbPIEBASBWIwMRJgFBM/R4b6UgllAj1wAwWJZsIW0ybQHiER4RJREeER0RJBEdERwRIxEcERsRIhEbERoRIREaERkRIBEZERgRHxEYERcRHhEXERYRHREWERURHBEVERQRGxEUERMRGhETOSEAdBESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCgkREAkQjxB+EG0QXBBLEDoB6FcTVxZXFlcWVxZXFlcW+CNxVhpWGchZghBKcJ0ZUAPLH8sfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFslWHQFwgEB/BANtbds8MBEVERcRFREUERYRFBETERURExESERQREg4REw4NERINUO4NwgT+jjQw0x8BghC89ocKuvLggW0xMIIAz9X4QlYaAccF8vSBMqkvwAHy9IIA7FhWFMAB8vQIpAh/4CCCEDDkqQC6jpMw0x8BghAw5KkAuvLggW0x2zx/4CCCEF0EaNy6jpUw0x8BghBdBGjcuvLggdMfATHbPH/gIIIQnS7eUbrjAiQoKi0C8jARGxEcERsRGhEcERoRGREcERkRGBEcERgRFxEcERcRFhEcERYRFREcERURFBEcERQRExEcERMREhEcERIREREcEREREBEcERAPERwPDhEcDg0RHA0MERwMCxEcCwoRHAoJERwJERwIBwZVQIFeThEd2zwBER4B8vRyJQLGgSJl+EFvJBNfA4IKYloAvvL0L4IAtiUBgScQu/L0L6RWFZFxkXDigQEB+EJtbXBUcAVVQMhVYNs8yQIREgJWEwEgbpUwWfRaMJRBM/QV4vhCVhwDVhsDAhEUAgERFAERExAjZiYC9MhVQIIQz0mdiVAGyx8Uyx8Syx8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFssHyVYcAXCAQH8EA21t2zwwERsRHBEbERoRGxEaERkRGhEZERgRGREYwicAbBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDgPwgUyD+EJWGwHHBfL0ggCoPVYXs/L0VhCBAQEiWfQNb6GSMG3fIG6SMG2Oh9DbPGwXbwfiggDQ0CFus/L0IG7y0IBvJ4F/vgbAABby9CVEFHFEFIEBAQfIVWDbPMkCERMCUjAgbpUwWfRaMJRBM/QV4lYcAlYbAhETjGYpAcTIVTCCEFlNPiZQBcsfE8sfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFssfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFslWHQGCCJiWgHF/BANtbds8MMIBKjDTHwGCEJ0u3lG68uCB0x8BMds8fysCnIFMg/hCVhsBxwXy9FYQgQEBIln0DW+hkjBt3yBukjBtjofQ2zxsF28H4oIA0NAhbrPy9CBu8tCAbydfBlIQERKBAQH0WjBWHAJWGwIRE4wsAcTIVTCCEIKQlq5QBcsfE8sfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFssfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFslWHQGCCJiWgHF/BANtbds8MMIEsCCCENVUQuG6jpUw0x8BghDVVELhuvLggfoAATHbPH/gIIIQc6pWibrjAiCCEA4nTQ66jpsw0x8BghAOJ00OuvLggdMf0gD6AFUgbBPbPH/gIIIQwJvYCbouMzQ8AvYRHBEdERwRGxEdERsRGhEdERoRGREdERkRGBEdERgRFxEdERcRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JER0IBwZVQNs8gTKpL8AB8vRZLwPQggCOC/hCVhoBxwXy9Ns8gVnJAVYfvvL0C6RWGlYZVh/IVSCCEJoJHABQBMsfEssfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgH6AslWHQGCCJiWgHN/BANtbds8MFYTwAB1wjAC0o6PVhgBER5xf1UgbW1t2zww4w4RGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPEO8Q3hDNELxVCcIxAvgRHBEdERwRGxEcERsRGhEbERoRGREaERlWGBEaERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQDxDvHR4QvBCrEJoQiRB4EGcQVhBFEDQQI9s8CxEcCwsRGwsLERoLTjIAZAsRGQsLERgLCxEXCwsRFgsLERULCxEUCwsREwsLERILCxERCwsREAsQvxC+EL0QvFWQArww0x8BghBzqlaJuvLggdMf0x/SAFUgbBOCAKWE+EJWFgHHBfL0gRy6IoFOILvy9IFPu/gnbxD4QW8kE18DggiYloCgvvL0Ets8+EFvJBNfA1YSAXF/VSBtbW3bPDB/PcIB8IFq3PhCVh0BxwXy9BEbER8RGxEaER4RGhEZER0RGREYERwRGBEXER8RFxEWER4RFhEVER0RFREUERwRFBETER8RExESER4REhERER0REREQERwREA8RHw8OER4ODREdDQwRHAwLER8LChEeCgkRHQkIERwIBxEfBzUE/gYRHgYFER0FBBEcBAMRHwMCER4CAREdAREcgV5OESDbPAERIQHy9BEd4w8RGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFhETERURExESERQREhERERMREREQERIREA8REQ8OERAOEN8QzhC9EKwQmxCKEHlyNjg7AvqBMb6BAQEgVhdZViEBQTP0DG+hlAHXADCSW23ibrPy9BEaERwRGhEZERsRGREYERoRGBEXERkRFxEWERgRFhEVERcRFREUERYRFBETERURExESERQREhERERMREREQERIREA8REQ8OERAOEN9VHBEeVh7bPIEBASAEERgEEzk3ADQCER8CAREgASFulVtZ9FowmMgBzwBBM/RC4gL6gTG+gQEBIFYYWVYhAUEz9AxvoZQB1wAwkltt4m6z8vQRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRwRHlYe2zyBAQEgBBEZBBM5OgAIFrYJBQA8AhEfAgERIAEhbpVbWfRaMJjIAc8AQTP0QuIRFREUABQQaBBXEEYQNUQDBPqOsjDTHwGCEMCb2Am68uCB0x/TH9IAVSBsE4EtjfhCVh0BxwXy9IE4gSKBTiC88vQS2zx/4CCCEFDAnIW6jpUw0x8BghBQwJyFuvLggfoAATHbPH/gIIIQhQudrbqOlTDTHwGCEIULna268uCB+gABMds8f+AgghCaeVh2uj1KTFAB8BEbER8RGxEaER4RGhEZER0RGREYERwRGBEXER8RFxEWER4RFhEVER0RFREUERwRFBETER8RExESER4REhERER0REREQERwREA8RHw8OER4ODREdDQwRHAwLER8LChEeCgkRHQkIERwIBxEfBwYRHgYFER0FBBEcBD4E/AMRHwMCER4CAREdAREcgV5OESDbPAERIQHy9C6BAQFWH1n0DW+hkjBt3yBukjBtjofQ2zxsF28H4oIA0NAhbrPy9CBu8tCAbyeCAKiLJsAB8vRWI44ZgQEBIFYfWVYoAUEz9AxvoZQB1wAwkltt4uMNgTiWIW6z8vQgbvLQgHKMP0AAMoEBASBWHllWKAFBM/QMb6GUAdcAMJJbbeIE/PgjESXjD1YQlREdViWgmREbViWgERsRHeIRHFYloAQRIQQDESADAhEfAgERHQERHFYcgQEBER3IVWDbPMkQKQERFwFWHwEgbpUwWfRaMJRBM/QV4hEVpAERGwERH6ARExEeERMREhEdERIREREcEREREBEbERAPERoPDhEZDkFDZkYB+CSBAQFWKFn0DW+hkjBt3yBukjBtmtDTH9MfWWwSbwLiER0RJBEdERwRIxEcERsRIhEbERoRIREaERkRIBEZERgRHxEYERcRHhEXERYRJBEWERURIxEVERQRIhEUERMRIRETERIRIBESERERHxERERARHhEQDxEkDw4RIw5CAbgNESINDBEhDAsRIAsKER8KCREeCQgRJAgHESMHBhEiBgURIQUEESAEAxEfAwIRHgIBESgBViXbPIEBAT/IWQLLH8sfyQMRIQMQLQERJwEgbpUwWfRaMJRBM/QV4kUB+CWBAQFWKFn0DW+hkjBt3yBukjBtmtDTH9MfWWwSbwLiER0RJBEdERwRIxEcERsRIhEbERoRIREaERkRIBEZERgRHxEYERcRHhEXERYRJBEWERURIxEVERQRIhEUERMRIRETERIRIBESERERHxERERARHhEQDxEkDw4RIw5EAcANESINDBEhDAsRIAsKER8KCREeCQgRJAgHESMHBhEiBgURIQUEESAEAxEfAwIRHgIBESgBViXbPIEBAT/IWQLLH8sfyQMRIgMQLQERJwEgbpUwWfRaMJRBM/QV4hEfER5FADBwIDAibrObMAEgbvLQgG8iMAGRMuIBpAEBcA0RGA0MERcMCxEWCwoRFQoJERQJCBETCAcREgcJEREJBREQBRBPEF5NwBBLEGoICRBXRgRFFds8RwL2gQEBVFUAUkBBM/QMb6GUAdcAMJJbbeJus44bgQEBIBBGQzAhbpVbWfRaMJjIAc8AQTP0QuIC4G1wIIEBAVRYAFn0hG+lIJZQI9cAMFiWbCFtMm0B4pCK6FvBA44cW4EBASAQRkMwIW6VW1n0WjCYyAHPAEEz9ELiAuAhSEkAbgKkJG6Rf5kkIG7y0IBSMLnilTMzVBIhkTLigQEBUwlQM0Ez9HhvpSCWUCPXADBYlmwhbTJtAeIAcm6zmQEgbvLQgFIgvJIxcOKOI1AFgQEB9FowgQEBVBMiQWAhbpVbWfRaMJjIAc8AQTP0QuICkl8D4gLsERwRHREcERsRHREbERoRHREaERkRHREZERgRHREYERcRHREXERYRHREWERURHREVERQRHREUERMRHRETERIRHRESERERHRERERARHREQDxEdDw4RHQ4NER0NDBEdDAsRHQsKER0KCREdCREdCAcGVUDbPBEdoFhLAJwRGxEcERsRGhEbERoRGREaERkRGBEZERgRFxEYERcRFhEXERYRFREWERURFBEVERQRExEUERMREhETERIRERESEREREBERERAPERAPVQ4C8hEcER0RHBEbER0RGxEaER0RGhEZER0RGREYER0RGBEXER0RFxEWER0RFhEVER0RFREUER0RFBETER0RExESER0REhERER0REREQER0REA8RHQ8OER0ODREdDQwRHQwLER0LChEdCgkRHQkRHQgHBlVA2zwRHBEdERxYTQHYERsRHBEbERoRGxEaVhkRGxEZERoRGREYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA8Q7xDeEM0QvBCrEJoQiRB4EGcQVhBFEDRBMNs8TgH0UzC+8ud/IIED6KkEyHAByx+NBJVU0RUIGZyb20gY2FtcGFpZ26DPFsmCCJiWgHCCMP/////////++ERul/gl+BV/+GTeIaH4EaDIghAPin6lAcsfyz9QA/oCUAQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZPAYT4KCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFnABygAB+gJ/AcoAEszJggnJw4AjAnN/BEMTbW3bPDASoQHCA/qOmDDTHwGCEJp5WHa68uCB0z/6AFlsEts8f+DAAI9a+QEggvBsj0T0X+20zf7U3o2xSqWxOtVdQw91nQZpIQt0xI/j37qOhjDbPH/bMeCC8Lz693aQfHGcyNN52PGUqqon6Moocc1ZF4FyHyFaRUUBuo6F2zx/2zHgkTDicFFVVwH0ERwRHhEcERsRHREbERoRHhEaERkRHREZERgRHhEYERcRHREXERYRHhEWERURHREVERQRHhEUERMRHRETERIRHhESERERHRERERARHhEQDxEdDw4RHg4NER0NDBEeDAsRHQsKER4KCREdCQgRHggHER0HBhEeBgURHQVSA/YEER4EAxEdAwIRHgIBER0BER7bPBEcER0RHBEbERwRGxEaERsRGhEZERoRGREYERkRGBEXERgRFxEWERcRFhEVERYRFREUERURFBETERQRExESERMREhERERIREREQEREREA8REA9VDlYe2zwRHaARGxEcERsRGhEbERpYU1QCsFYRgQEBI1n0DW+hkjBt3yBukjBtjofQ2zxsF28H4oIAu8UhbrPy9CBu8tCAbycnoFVQgQEBB8hVYNs8yQMREwMSARETASBulTBZ9FowlEEz9BXiERAXoAaMZgCEERkRGhEZERgRGREYERcRGBEXERYRFxEWERURFhEVERQRFREUERMRFBETERIRExESEREREhERERAREREQDxEQD1UOBBjbPNs8VxtwiAERHAFYVrvAABCCANAwVhzy9AQY2zzbPFcbf4gBERwBWFm/wAAU+EJWHQHHBfLghAASggCdsFYcs/L0AfABER0BERwg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBERoBygABERgByx8BERYg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBERQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbIBgUREwVbAv4EERIEAxERAwIREAJQ/ts8UAcg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYVyx8T9ADLH8sfyx/LH8sfFcsfE8sfyx8B+gJY+gISyx8Syx8CyPQAUAT6Algg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJAczJXF0AOlBW9AAT9ADKACFus5Z/AcoAyx+UcDLKAOLLH8oAAAQBzAIBIF99AgEgYGcCAVhhYwIZsF72zzbPFcQXw9s0YIFiAARWGwLNssU2zwRHBEeERwRGxEdERsRGhEcERoRGREbERkRGBEaERgRFxEZERcRFhEYERYRFREXERURFBEWERQRExEVERMREhEUERIRERETEREREBESERAPEREPDhEQDhDfVRzbPFcQXw9s0YIFkASSCAKy3UxK88vRtcFEjoYrkbCFlA96BAQFdoFYUWVn0DW+hkjBt3yBukjBtjofQ2zxsF28H4m6zj0eBAQFdoFRxQ6BWFllZ9A1voZIwbd8gbpIwbY6H0Ns8bBdvB+IgbpIwbY6NIG7y0IBvJ8hVYNs8yeIgbpUwWfRaMJRBM/QV4t4BpAGMjGYAYlB2INdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WFMsHEvQA9AAB+gJY+gIB+gICAUhoewIBIGlrAhmuju2ebZ4riC+HtmjAgWoABFYcA/Wt6W2ebZ4rkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRK5ErkSuRAgiQggGIkAGBCI+BAIiPAIiOggiOAgGIjYGBCI0BAIiMgIiMAgiLggGIiwGBCIqBAIiKAIiJggiJAkCBbHoB9FYaVhlWHlYcVhtWG1YbVhtWG1YbVhpWEVYZVhlWGVYWVhpWGlYaViERHBEwERwRGxEvERsRGhEuERoRGREtERkRGBEsERgRFxErERcRFhEqERYRFREpERURFBEoERQRExEnERMREhEmERIRERElEREREBEkERAPESMPbQL6DhEiDg0RIQ0MESAMCxEfCwoRHgoJER0JCBEwCAcRLwcGES4GBREtBQQRLAQDESsDAhEqAgERKQERKNs8JvgnbxD4KFR1RysRHBEkERwRGxEjERsRGhEiERoRGREhERkRGBEgERgRFxEfERcRFhEeERYRFREdERURFBEkERR1bgL4ERMRIxETERIRIhESERERIRERERARIBEQDxEfDw4RHg4NER0NDBEkDAsRIwsKESIKCREhCQgRIAgHER8HBhEeBgURHQUEESQEAxEjAwIRIgIBESEBESDbPBEcER0RHBEbER0RGxEaER0RGhEZER0RGREYER0RGBEXER0RF3RvAvYRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JER0IBwZVQNs8VhwRHBEeERwRGxEdERsRGhEeERoRGREdERkRGBEeERgRFxEdERcRFhEeERZzcAL4ERURHREVERQRHhEUERMRHRETERIRHhESERERHRERERARHhEQDxEdDw4RHg4NER0NDBEeDAsRHQsKER4KCREdCQgRHggHER0HBhEeBgURHQUEER4EAxEdAwIRHgIBER0BER7bPBEcER0RHBEbER0RGxEaER0RGhEZER0RGXZxAv4RGBEdERgRFxEdERcRFhEdERYRFREdERURFBEdERQRExEdERMREhEdERIREREdEREREBEdERAPER0PDhEdDg0RHQ0MER0MCxEdCwoRHQoJER0JER0IBwZVQNs8ESARNBEgER8RMxEfER4RMhEeER0RMREdERwRMBEcERsRLxEbcncDOi7DAZFw4FYbkXDg2zyRcODbPLORcODbPLORcOB/c3R2AC5WFG6RcOD4Iy6hVhUgbvLQgIIBUYCovAEI2zwmvHUANFYTwACOEPgnbxCCEB3NZQChJ6FwtgngUxahABb4J28QghAdzWUAvgH8ERoRLhEaERkRLREZERgRLBEYERcRKxEXERYRKhEWERURPREVERQRPBEUERMROxETERIROhESERERORERERAROBEQDxE3Dw4RNg4NETUNDBEkDAsRIwsKESIKCREpCQgRKAgHEScHBhEmBgURJQUEESEEAxEzAwIRNAIBETIBeAH8VjMOERUODhEUDg4REw4OERIOETIRPhEyETERPRExETARPBEwES8ROxEvES4ROhEuES0ROREtESwROBEsESsRNxErETIRNhEyETERNRExETARNBEwES8RMxEvES4RMhEuES0RMREtESwRMBEsESsRLxErESURLRElESQRLBEkeQAkESMRKxEjESIRJREiESIRIxEiABgDEREDAhEQAlD+VYQCGbPSds82zxXEF8PbNGCBfAAC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"}},"sources":{"contracts/messages.tact":"Ly8gKiAtLS0tLS0gQWZmaWxpYXRlTWFya2V0cGxhY2UgQVBJIC0tLS0tLSAqDQoNCi8vIEFkbWluIGZ1bmN0aW9ucyANCm1lc3NhZ2UgQWRtaW5XaXRoZHJhdyB7DQogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7DQogICAgd2FsbGV0czogbWFwPEFkZHJlc3MsIEJvb2w+Ow0KfQ0KDQptZXNzYWdlIEFkbWluVXBkYXRlRmVlQmFsYW5jZSB7DQogICAgYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7ICAvLyAyMDAgPSAyJSBmZWUNCiAgICBhZmZpbGlhdGVGZWVQZXJjZW50YWdlOiBJbnQgYXMgdWludDMyOyAvLyAyMDAgPSAyJSBmZWUNCn0NCg0KbWVzc2FnZSBBZG1pblJlcGxlbmlzaCB7fQ0KDQptZXNzYWdlIEFkbWluTW9kaWZ5Q2FtcGFpZ25GZWVQZXJjZW50YWdlIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgZmVlUGVyY2VudGFnZTogSW50IGFzIHVpbnQzMjsNCn0NCg0KbWVzc2FnZSBBZG1pblN0b3BDYW1wYWlnbiB7DQoJY2FtcGFpZ25JZDogSW50IGFzIHVpbnQzMjsNCglhZHZlcnRpc2VyOiBBZGRyZXNzOw0KfQ0KDQptZXNzYWdlIEFkbWluUmVzdW1lQ2FtcGFpZ24gew0KCWNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQoJYWR2ZXJ0aXNlcjogQWRkcmVzczsNCn0NCg0KbWVzc2FnZSBBZG1pblNlaXplQ2FtcGFpZ25CYWxhbmNlIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQp9DQoNCm1lc3NhZ2UgQWRtaW5KZXR0b25Ob3RpZmljYXRpb25NZXNzYWdlRmFpbHVyZSB7DQoJY2FtcGFpZ25JZDogSW50IGFzIHVpbnQzMjsNCglhZHZlcnRpc2VyOiBBZGRyZXNzOw0KCWFtb3VudDogSW50IGFzIGNvaW5zOw0KfQ0KDQptZXNzYWdlIEFkbWluV2l0aGRyYXdVU0RUVG9QYXlvdXQgew0KCWNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQoJYWR2ZXJ0aXNlcjogQWRkcmVzczsNCglhbW91bnQ6IEludCBhcyBjb2luczsNCn0NCg0KbWVzc2FnZSBBZG1pblBheUFmZmlsaWF0ZVVTRFRCb3VuY2VkIHsNCgljYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQoJYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50NjQ7DQoJYW1vdW50OiBJbnQgYXMgY29pbnM7DQp9DQoNCi8vIEV2ZW50cyAtIGFsd2F5cyBlbWl0dGVkIGZyb20gcGFyZW50IGNvbnRyYWN0DQptZXNzYWdlIEFkdmVydGlzZXJXaXRoZHJhd0Z1bmRzRXZlbnR7DQogICAgY2FtcGFpZ25JZDogSW50IGFzIHVpbnQzMjsNCiAgICBhZHZlcnRpc2VyOiBBZGRyZXNzOw0KICAgIGFtb3VudDogSW50IGFzIGNvaW5zOw0KfQ0KDQptZXNzYWdlIENhbXBhaWduQ3JlYXRlZEV2ZW50IHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgY2FtcGFpZ25Db250cmFjdEFkZHJlc3M6IEFkZHJlc3M7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclNpZ25lZENhbXBhaWduRGV0YWlsc0V2ZW50IHsNCgljYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQp9DQoNCm1lc3NhZ2UgQWZmaWxpYXRlQ3JlYXRlZEV2ZW50IHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KCWFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50MzI7DQogICAgYWZmaWxpYXRlOiBBZGRyZXNzOw0KICAgIHN0YXRlOiBJbnQgYXMgdWludDg7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclJlbW92ZWRBZmZpbGlhdGVFdmVudCB7DQoJY2FtcGFpZ25JZDogSW50IGFzIHVpbnQzMjsNCiAgICBhZHZlcnRpc2VyOiBBZGRyZXNzOw0KICAgIGFmZmlsaWF0ZUlkOiBJbnQgYXMgdWludDMyOw0KICAgIGFmZmlsaWF0ZTogQWRkcmVzczsNCn0NCg0KbWVzc2FnZSBBZHZlcnRpc2VyQXBwcm92ZWRBZmZpbGlhdGVMaXN0RXZlbnQgew0KICAgIGNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQogICAgYWR2ZXJ0aXNlcjogQWRkcmVzczsNCiAgICBhZmZpbGlhdGVJZDogSW50IGFzIHVpbnQzMjsNCiAgICBhZmZpbGlhdGU6IEFkZHJlc3M7DQp9DQoNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlckRlcGxveU5ld0NhbXBhaWduIHt9DQoNCi8vIHBhcmVudCB0byBjaGlsZCBJTlRFUk5BTCBtZXNzYWdlcw0KbWVzc2FnZSBQYXJlbnRUb0NoaWxkRGVwbG95Q2FtcGFpZ24gew0KICAgIGNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQoJYWR2ZXJ0aXNlcjogQWRkcmVzczsNCn0NCg0KbWVzc2FnZSBQYXJlbnRUb0NoaWxkVXBkYXRlRmVlUGVyY2VudGFnZXsNCiAgICBmZWVQZXJjZW50YWdlOiBJbnQgYXMgdWludDMyDQp9DQoNCg0KbWVzc2FnZSBQYXJlbnRUb0NoaWxkU2VpemVDYW1wYWlnbnt9DQoNCg0KbWVzc2FnZSBQYXJlbnRUb0NoaWxkSmV0dG9uTm90aWZpY2F0aW9uTWVzc2FnZUZhaWx1cmUgew0KCWFtb3VudDogSW50IGFzIGNvaW5zOw0KfQ0KDQptZXNzYWdlIFBhcmVudFRvQ2hpbGRXaXRoZHJhd1VTRFRUb1BheW91dCB7DQoJYW1vdW50OiBJbnQgYXMgY29pbnM7DQp9DQoNCm1lc3NhZ2UgUGFyZW50VG9DaGlsZFBheUFmZmlsaWF0ZVVTRFRCb3VuY2VkIHsNCglhZmZpbGlhdGVJZDogSW50IGFzIHVpbnQ2NDsNCglhbW91bnQ6IEludCBhcyBjb2luczsNCn0NCg0KDQovLyAqIC0tLS0tLSBFTkQgQWZmaWxpYXRlTWFya2V0cGxhY2UgQVBJIC0tLS0tLSAqDQoNCg0KLy8gKiAtLS0tLS0gQ2FtcGFpZ24gQVBJIC0tLS0tLSAqDQoNCi8vIEJvdCBmdW5jdGlvbnMNCm1lc3NhZ2UgQm90VXNlckFjdGlvbiB7DQogICAgYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50MzI7DQogICAgdXNlckFjdGlvbk9wQ29kZTogSW50IGFzIHVpbnQzMjsNCiAgICBpc1ByZW1pdW1Vc2VyOiBCb29sOw0KfQ0KDQovLyBBZmZpbGlhdGUgQVBJDQptZXNzYWdlIFBheUFmZmlsaWF0ZXsNCiAgICBhZmZpbGlhdGVJZDogSW50IGFzIHVpbnQzMjsNCiAgICBhbW91bnQ6IEludCBhcyBjb2luczsNCn0NCg0KbWVzc2FnZSBBZmZpbGlhdGVDcmVhdGVOZXdBZmZpbGlhdGV7fQ0KbWVzc2FnZSBBZmZpbGlhdGVXaXRoZHJhd0Vhcm5pbmdzIHsNCiAgICBhZmZpbGlhdGVJZDogSW50IGFzIHVpbnQzMjsNCn0NCg0KLy8gQWR2ZXJ0aXNlciBBUEkNCm1lc3NhZ2UgQWR2ZXJ0aXNlcldpdGhkcmF3RnVuZHN7DQoJYW1vdW50OiBJbnQgYXMgY29pbnM7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlckFkZE5ld1VzZXJPcENvZGUgew0KCXVzZXJPcENvZGU6IEludCBhcyB1aW50MzI7DQogICAgaXNQcmVtaXVtVXNlck9wQ29kZTogQm9vbDsNCiAgICBjb3N0UGVyQWN0aW9uOiBJbnQgYXMgY29pbnM7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclNldENhbXBhaWduRGV0YWlscyB7DQogICAgY2FtcGFpZ25EZXRhaWxzOiBDYW1wYWlnbkRldGFpbHM7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclVzZXJBY3Rpb24gew0KICAgIGFmZmlsaWF0ZUlkOiBJbnQgYXMgdWludDMyOw0KICAgIHVzZXJBY3Rpb25PcENvZGU6IEludCBhcyB1aW50MzI7DQogICAgaXNQcmVtaXVtVXNlcjogQm9vbDsNCn0gDQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclJlbW92ZUFmZmlsaWF0ZSB7DQogICAgYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50MzI7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlckFwcHJvdmVBZmZpbGlhdGV7DQogICAgYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50MzI7DQp9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclJlcGxlbmlzaCB7fQ0KbWVzc2FnZSBBZHZlcnRpc2VyUmVwbGVuaXNoR2FzRmVlc0ZvclVTRFRDYW1wYWlnbnt9DQoNCm1lc3NhZ2UgQWR2ZXJ0aXNlclNpZ25PZmZXaXRoZHJhdyB7DQoJc2V0QWZmaWxpYXRlc1dpdGhkcmF3RWFybmluZ3M6IG1hcDxJbnQsIEludD47ICAvLyBhZmZpbGlhdGVJZCAtPiB3aXRoZHJhd2FsQW1vdW50DQp9DQoNCi8vIENoaWxkIHRvIFBhcmVudCAtIElOVEVSTkFMIE1lc3NhZ2VzDQptZXNzYWdlIENoaWxkVG9QYXJlbnRDYW1wYWlnbkRlcGxveWVkU3VjY2Vzc2Z1bGx5IHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOyANCglhZHZlcnRpc2VyOiBBZGRyZXNzOw0KfQ0KDQptZXNzYWdlIENoaWxkVG9QYXJlbnRBZmZpbGlhdGVDcmVhdGVkIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KICAgIGFmZmlsaWF0ZUlkOiBJbnQgYXMgdWludDMyOw0KICAgIGFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgYWZmaWxpYXRlOiBBZGRyZXNzOw0KICAgIHN0YXRlOiBJbnQgYXMgdWludDg7ICAvLyAwIC0gQUNUSVZFLCAxIC0gUEVORElOR19BUFBST1ZBTA0KfQ0KDQptZXNzYWdlIENoaWxkVG9QYXJlbnRBZHZlcnRpc2VyU2lnbmVkQ2FtcGFpZ25EZXRhaWxzIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KICAgIGFkdmVydGlzZXI6IEFkZHJlc3M7DQp9DQoNCm1lc3NhZ2UgQ2hpbGRUb1BhcmVudEFkdmVydGlzZXJXaXRoZHJhd0Z1bmRzew0KICAgIGNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQogICAgYWR2ZXJ0aXNlcjogQWRkcmVzczsNCiAgICBhbW91bnQ6IEludCBhcyBjb2luczsNCn0NCg0KbWVzc2FnZSBDaGlsZFRvUGFyZW50QWR2ZXJ0aXNlckFwcHJvdmVkQWZmaWxpYXRlIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KICAgIGFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgYWZmaWxpYXRlSWQ6IEludCBhcyB1aW50MzI7DQogICAgYWZmaWxpYXRlOiBBZGRyZXNzOw0KfQ0KDQptZXNzYWdlIENoaWxkVG9QYXJlbnRBZHZlcnRpc2VyUmVtb3ZlZEFmZmlsaWF0ZSB7DQogICAgY2FtcGFpZ25JZDogSW50IGFzIHVpbnQzMjsNCiAgICBhZHZlcnRpc2VyOiBBZGRyZXNzOw0KICAgIGFmZmlsaWF0ZUlkOiBJbnQgYXMgdWludDMyOw0KICAgIGFmZmlsaWF0ZTogQWRkcmVzczsNCn0NCg0KDQovLyBKZXR0b24NCm1lc3NhZ2UoMHg3MzYyZDA5YykgSmV0dG9uVHJhbnNmZXJOb3RpZmljYXRpb24gew0KICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7DQogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7DQogICAgc2VuZGVyOiBBZGRyZXNzOw0KICAgIGZvcndhcmRQYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7DQp9DQoNCg0KbWVzc2FnZSgweGQ1MzI3NmRiKSBUb2tlbkV4Y2Vzc2VzIHsNCiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsNCn0NCg0KLy8gKiAtLS0tLS0gRU5EIENhbXBhaWduIEFQSSAtLS0tLS0gKg0KDQo=","contracts/affiliate_marketplace.tact":"aW1wb3J0ICJAc3RkbGliL3N0b3BwYWJsZSI7DQppbXBvcnQgIkBzdGRsaWIvb3duYWJsZSI7DQppbXBvcnQgIkBzdGRsaWIvZGVwbG95IjsNCmltcG9ydCAiLi9tZXNzYWdlcy50YWN0IjsNCg0KLy8gY29uc3RhbnRzDQpjb25zdCBNQVhfTlVNX0FGRklMSUFURVM6IEludCA9IDEwMDAwOw0KDQpjb25zdCBTVEFURV9DQU1QQUlHTl9DUkVBVEVEOiBJbnQgPSAwOw0KY29uc3QgU1RBVEVfQ0FNUEFJR05fREVUQUlMU19TRVRfQllfQURWRVJUSVNFUjogSW50ID0gMTsNCg0KY29uc3QgREVQTE9ZX05FV19DT05UUkFDVF9DT1NUOiBJbnQgPSB0b24oIjAuMSIpOw0KY29uc3QgR0FTX0ZFRTogSW50ID0gdG9uKCIwLjAxIik7DQpjb25zdCBDQU1QQUlHTl9CVUZGRVI6IEludCA9IHRvbigiMC41Iik7DQpjb25zdCBGSVhFRF9GRUVfQ1JFQVRFX0FGRklMSUFURTogSW50ID0gdG9uKCIwLjA0Iik7DQoNCmNvbnN0IFVTRVJfQUNUSU9OX09QX0NPREVTX0JPVDogSW50ID0gMjAwMDA7ICAvLyBmaXJzdCAyMCB0aG91c2FuZCBvcCBjb2RlcyBmb3IgYm90DQoNCi8vIFBheW1lbnQgbWV0aG9kIG9wdGlvbnMNCmNvbnN0IFBBWU1FTlRfTUVUSE9EX1RPTjogSW50ID0gMDsNCmNvbnN0IFBBWU1FTlRfTUVUSE9EX1VTRFQ6IEludCA9IDE7DQoNCi8vIGFmZmlsaWF0ZSBzdGF0dXMNCmNvbnN0IFNUQVRFX0FGRklMSUFURV9QRU5ESU5HX0FQUFJPVkFMOiBJbnQgPSAwOw0KY29uc3QgU1RBVEVfQUZGSUxJQVRFX0FDVElWRTogSW50ID0gMTsNCg0Kc3RydWN0IENhbXBhaWduRGV0YWlscyB7DQogICAgcmVndWxhclVzZXJzQ29zdFBlckFjdGlvbjogbWFwPEludCwgSW50PjsgLy8gb3AgY29kZSAtPiBjcGENCiAgICBwcmVtaXVtVXNlcnNDb3N0UGVyQWN0aW9uOiBtYXA8SW50LCBJbnQ+OyAvLyBvcCBjb2RlIC0+IGNwYQ0KICAgIGlzUHVibGljQ2FtcGFpZ246IEJvb2w7IC8vIGlmIHB1YmxpYyAtPiBhbnlvbmUgY2FuIGJlIGFuIGFmZmlsaWF0ZQ0KICAgIGNhbXBhaWduVmFsaWRGb3JOdW1EYXlzOiBJbnQ/IGFzIHVpbnQzMjsgLy8gb3B0aW9uYWwgLSBjYW1wYWlnbiBleHBpcnkgcGVyaW9kDQogICAgcGF5bWVudE1ldGhvZDogSW50IGFzIHVpbnQzMjsgLy8gVE9OICgwKSBvciBVU0RUICgxKQ0KICAgIHJlcXVpcmVzQWR2ZXJ0aXNlckFwcHJvdmFsRm9yV2l0aGRyYXdsOiBCb29sOyAgLy8gRmxhZyBpbmRpY2F0aW5nIGlmIGFkdmVydGlzZXIgd2l0aGRyYXdzIGVhcm5pbmdzIGZvciBhZmZpbGlhdGVzIGJ5IGRlZmF1bHQgb3Igbm90DQp9DQoNCnN0cnVjdCBVc2VyQWN0aW9uU3RhdHMgew0KICAgIG51bUFjdGlvbnM6IEludCBhcyB1aW50MzI7DQogICAgbGFzdFVzZXJBY3Rpb25UaW1lc3RhbXA6IEludCBhcyB1aW50MzI7DQp9DQoNCnN0cnVjdCBBZmZpbGlhdGVEYXRhIHsNCiAgICBhZmZpbGlhdGU6IEFkZHJlc3M7DQogICAgc3RhdGU6IEludCBhcyB1aW50ODsNCiAgICB1c2VyQWN0aW9uc1N0YXRzOiBtYXA8SW50LCBVc2VyQWN0aW9uU3RhdHM+Ow0KICAgIHByZW1pdW1Vc2VyQWN0aW9uc1N0YXRzOiBtYXA8SW50LCBVc2VyQWN0aW9uU3RhdHM+Ow0KICAgIHBlbmRpbmdBcHByb3ZhbEVhcm5pbmdzOiBJbnQgYXMgY29pbnM7DQogICAgdG90YWxFYXJuaW5nczogSW50IGFzIGNvaW5zOyAvLyBvdmVyIHRpbWUNCgl3aXRoZHJhd0Vhcm5pbmdzOiBJbnQgYXMgY29pbnM7IC8vIGVhcm5pbmdzIHJlYWR5IHRvIHdpdGhkcmF3IG5vdw0KfQ0KDQpzdHJ1Y3QgQ2FtcGFpZ25EYXRhIHsNCiAgICBjYW1wYWlnbklkOiBJbnQgYXMgdWludDMyOw0KICAgIGFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgb3duZXI6IEFkZHJlc3M7DQogICAgcGF5b3V0OiBBZGRyZXNzOw0KICAgIGNhbXBhaWduRGV0YWlsczogQ2FtcGFpZ25EZXRhaWxzOw0KICAgIG51bUFmZmlsaWF0ZXM6IEludCBhcyB1aW50MzI7DQogICAgdG90YWxBZmZpbGlhdGVFYXJuaW5nczogSW50IGFzIGNvaW5zOw0KICAgIHN0YXRlOiBJbnQgYXMgdWludDMyOw0KICAgIGNhbXBhaWduU3RhcnRUaW1lc3RhbXA6IEludCBhcyB1aW50MzI7DQogICAgbGFzdFVzZXJBY3Rpb25UaW1lc3RhbXA6IEludCBhcyB1aW50MzI7DQogICAgbnVtQWR2ZXJ0aXNlcldpdGhkcmF3bHM6IEludCBhcyB1aW50MzI7DQogICAgbnVtQWR2ZXJ0aXNlclNpZ25PZmZzOiBJbnQgYXMgdWludDMyOw0KICAgIG51bUFkdmVydGlzZXJSZXBsZW5pc2hDYW1wYWlnbjogSW50IGFzIHVpbnQzMjsNCiAgICBudW1BZHZlcnRpc2VyUmVwbGVuaXNoR2FzRmVlczogSW50IGFzIHVpbnQzMjsNCiAgICBudW1Vc2VyQWN0aW9uczogSW50IGFzIHVpbnQzMjsNCiAgICBjYW1wYWlnbkJhbGFuY2U6IEludCBhcyBjb2luczsNCiAgICBtYXhDcGFWYWx1ZTogSW50IGFzIGNvaW5zOw0KICAgIGNvbnRyYWN0VG9uQmFsYW5jZTogSW50IGFzIGNvaW5zOyAgLy8gbXlCYWxhbmNlDQogICAgY29udHJhY3RBZGRyZXNzOiBBZGRyZXNzOw0KICAgIGNvbnRyYWN0VVNEVEJhbGFuY2U6IEludCBhcyBjb2luczsNCiAgICBjb250cmFjdFVzZHRXYWxsZXQ6IEFkZHJlc3M7DQogICAgYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7DQogICAgYWZmaWxpYXRlRmVlUGVyY2VudGFnZTogSW50IGFzIHVpbnQzMjsNCiAgICBjYW1wYWlnbkhhc1N1ZmZpY2llbnRGdW5kc1RvUGF5TWF4Q3BhOiBCb29sOw0KICAgIGlzQ2FtcGFpZ25FeHBpcmVkOiBCb29sOw0KICAgIGlzQ2FtcGFpZ25QYXVzZWRCeUFkbWluOiBCb29sOw0KICAgIGNhbXBhaWduSGFzU3VmZmljaWVudFRvblRvUGF5R2FzRmVlczogQm9vbDsNCiAgICBpc0NhbXBhaWduQWN0aXZlOiBCb29sOw0KICAgIHRvcEFmZmlsaWF0ZXM6IG1hcDxJbnQsIEludD47DQp9DQoNCnN0cnVjdCBKZXR0b25XYWxsZXREYXRhIHsNCiAgICBzdGF0dXM6IEludCBhcyB1aW50NDsNCiAgICBiYWxhbmNlOiBJbnQgYXMgY29pbnM7DQogICAgb3duZXJBZGRyZXNzOiBBZGRyZXNzOw0KICAgIGpldHRvbk1hc3RlckFkZHJlc3M6IEFkZHJlc3M7DQp9DQoNCg0KLy8gQW5kIHRoZSBmdW5jdGlvbiB0byBjYWxjdWxhdGUgdGhlIHdhbGxldCBhZGRyZXNzIG1heSBsb29rIGxpa2UgdGhpczoNCmZ1biBjYWxjdWxhdGVVU0RUV2FsbGV0QWRkcmVzcygNCiAgICBvd25lckFkZHJlc3M6IEFkZHJlc3MsDQogICAgamV0dG9uTWFzdGVyQWRkcmVzczogQWRkcmVzcywNCiAgICBqZXR0b25XYWxsZXRDb2RlOiBDZWxsDQopOiBBZGRyZXNzIHsNCg0KICAgIGxldCBpbml0RGF0YSA9IEpldHRvbldhbGxldERhdGF7DQogICAgICAgIHN0YXR1czogMCwNCiAgICAgICAgYmFsYW5jZTogMCwNCiAgICAgICAgb3duZXJBZGRyZXNzLA0KICAgICAgICBqZXR0b25NYXN0ZXJBZGRyZXNzLA0KICAgIH07DQoNCiAgICByZXR1cm4gY29udHJhY3RBZGRyZXNzKFN0YXRlSW5pdHsNCiAgICAgICAgY29kZTogamV0dG9uV2FsbGV0Q29kZSwNCiAgICAgICAgZGF0YTogaW5pdERhdGEudG9DZWxsKCksDQogICAgfSk7DQp9DQoNCi8vIENoaWxkIGNvbnRyYWN0IGZvciBlYWNoIGFmZmlsaWF0ZQ0KY29udHJhY3QgQ2FtcGFpZ24gd2l0aCBSZXN1bWFibGUgew0KDQogICAgb3duZXI6IEFkZHJlc3M7DQogICAgc3RvcHBlZDogQm9vbDsNCg0KICAgIGNhbXBhaWduSWQ6IEludCBhcyB1aW50MzI7DQogICAgcGF5b3V0OiBBZGRyZXNzOw0KICAgIGFkdmVydGlzZXI6IEFkZHJlc3M7DQogICAgY2FtcGFpZ25EZXRhaWxzOiBDYW1wYWlnbkRldGFpbHM7DQogICAgYm90OiBBZGRyZXNzOw0KDQogICAgY3VyckFmZmlsaWF0ZUlkOiBJbnQgYXMgdWludDMyOw0KICAgIGFmZmlsaWF0ZXM6IG1hcDxJbnQsIEFmZmlsaWF0ZURhdGE+Ow0KDQogICAgc3RhdGU6IEludCBhcyB1aW50MzI7DQogICAgY2FtcGFpZ25TdGFydFRpbWVzdGFtcDogSW50IGFzIHVpbnQzMjsNCiAgICBsYXN0VXNlckFjdGlvblRpbWVzdGFtcDogSW50IGFzIHVpbnQzMjsNCiAgICBudW1BZHZlcnRpc2VyV2l0aGRyYXdsczogSW50IGFzIHVpbnQzMjsNCiAgICBudW1BZHZlcnRpc2VyU2lnbk9mZnM6IEludCBhcyB1aW50MzI7DQogICAgbnVtQWR2ZXJ0aXNlclJlcGxlbmlzaENhbXBhaWduOiBJbnQgYXMgdWludDMyOw0KICAgIG51bUFkdmVydGlzZXJSZXBsZW5pc2hHYXNGZWVzOiBJbnQgYXMgdWludDMyOw0KICAgIG51bVVzZXJBY3Rpb25zOiBJbnQgYXMgdWludDMyOw0KICAgIHRvdGFsQWZmaWxpYXRlRWFybmluZ3M6IEludCBhcyBjb2luczsNCiAgICBtYXhDcGFWYWx1ZTogSW50IGFzIGNvaW5zOw0KICAgIGFmZmlsaWF0ZUZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7DQogICAgYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7DQoNCiAgICB0b3BBZmZpbGlhdGVzOiBtYXA8SW50LCBJbnQ+OyAvLyBBZmZpbGlhdGUgSUQgLT4gRWFybmluZ3MNCg0KICAgIGNvbnRyYWN0VVNEVEJhbGFuY2U6IEludCBhcyBjb2luczsNCiAgICBjb250cmFjdFVzZHRXYWxsZXQ6IEFkZHJlc3M7DQoNCiAgICBpbml0KG93bmVyOiBBZGRyZXNzLCBjYW1wYWlnbklkOiBJbnQsIGFkdmVydGlzZXI6IEFkZHJlc3MsIHBheW91dDogQWRkcmVzcywgDQogICAgICAgICBib3Q6IEFkZHJlc3MsIHVzZHRNYXN0ZXJBZGRyZXNzOiBBZGRyZXNzLCB1c2R0V2FsbGV0Qnl0ZWNvZGU6IENlbGwsDQogICAgICAgICBhZHZlcnRpc2VyRmVlUGVyY2VudGFnZTogSW50LCBhZmZpbGlhdGVGZWVQZXJjZW50YWdlOiBJbnQpIHsNCiAgICAgICAgDQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gb3duZXIsICJvd25lciBtdXN0IGJlIGRlcGxveWVyIik7DQoNCiAgICAgICAgc2VsZi5vd25lciA9IG93bmVyOyAgLy8gcGFyZW50IGNvbnRyYWN0DQogICAgICAgIHNlbGYucGF5b3V0ID0gcGF5b3V0Ow0KICAgICAgICBzZWxmLnN0b3BwZWQgPSBmYWxzZTsNCiAgICAgICAgc2VsZi5jYW1wYWlnbklkID0gY2FtcGFpZ25JZDsNCiAgICAgICAgc2VsZi5hZHZlcnRpc2VyID0gYWR2ZXJ0aXNlcjsgDQogICAgICAgIHNlbGYuYm90ID0gYm90Ow0KICAgICAgICBzZWxmLmFkdmVydGlzZXJGZWVQZXJjZW50YWdlID0gYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U7DQogICAgICAgIHNlbGYuYWZmaWxpYXRlRmVlUGVyY2VudGFnZSA9IGFmZmlsaWF0ZUZlZVBlcmNlbnRhZ2U7DQoNCiAgICAgICAgc2VsZi5jdXJyQWZmaWxpYXRlSWQgPSAwOyANCiAgICAgICAgc2VsZi5hZmZpbGlhdGVzID0gZW1wdHlNYXAoKTsNCg0KICAgICAgICBzZWxmLmNhbXBhaWduRGV0YWlscyA9IENhbXBhaWduRGV0YWlscyB7DQogICAgICAgICAgICByZWd1bGFyVXNlcnNDb3N0UGVyQWN0aW9uOiBlbXB0eU1hcCgpLA0KICAgICAgICAgICAgcHJlbWl1bVVzZXJzQ29zdFBlckFjdGlvbjogZW1wdHlNYXAoKSwNCiAgICAgICAgICAgIGlzUHVibGljQ2FtcGFpZ246IHRydWUsDQogICAgICAgICAgICBjYW1wYWlnblZhbGlkRm9yTnVtRGF5czogbnVsbCwNCiAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IFBBWU1FTlRfTUVUSE9EX1RPTiwgLy8gRGVmYXVsdCB0byBUT04NCiAgICAgICAgICAgIHJlcXVpcmVzQWR2ZXJ0aXNlckFwcHJvdmFsRm9yV2l0aGRyYXdsOiBmYWxzZQ0KICAgICAgICB9Ow0KDQogICAgICAgIHNlbGYuc3RhdGUgPSBTVEFURV9DQU1QQUlHTl9DUkVBVEVEOw0KICAgICAgICBzZWxmLmxhc3RVc2VyQWN0aW9uVGltZXN0YW1wID0gMDsNCiAgICAgICAgc2VsZi5jYW1wYWlnblN0YXJ0VGltZXN0YW1wID0gMDsNCiAgICAgICAgc2VsZi5udW1BZHZlcnRpc2VyV2l0aGRyYXdscyA9IDA7DQogICAgICAgIHNlbGYubnVtQWR2ZXJ0aXNlclNpZ25PZmZzID0gMDsNCiAgICAgICAgc2VsZi5udW1BZHZlcnRpc2VyUmVwbGVuaXNoQ2FtcGFpZ24gPSAwOw0KICAgICAgICBzZWxmLm51bUFkdmVydGlzZXJSZXBsZW5pc2hHYXNGZWVzID0gMDsNCiAgICAgICAgc2VsZi5udW1Vc2VyQWN0aW9ucyA9IDA7DQogICAgICAgIHNlbGYudG90YWxBZmZpbGlhdGVFYXJuaW5ncyA9IDA7DQogICAgICAgIHNlbGYubWF4Q3BhVmFsdWUgPSB0b24oIjAiKTsNCg0KICAgICAgICAvLyB0b3AgMyBhZmZpbGlhdGVzIGluIGNhbXBhaWduDQogICAgICAgIHNlbGYudG9wQWZmaWxpYXRlcyA9IGVtcHR5TWFwKCk7DQoNCiAgICAgICAgLy8gVVNEVCBkZXRhaWxzDQoJCXNlbGYuY29udHJhY3RVU0RUQmFsYW5jZSA9IDA7DQoJCXNlbGYuY29udHJhY3RVc2R0V2FsbGV0ID0gY2FsY3VsYXRlVVNEVFdhbGxldEFkZHJlc3MobXlBZGRyZXNzKCksIHVzZHRNYXN0ZXJBZGRyZXNzLCB1c2R0V2FsbGV0Qnl0ZWNvZGUpOw0KICAgIH0NCg0KICAgIC8vIHBpZ2d5YmFjayBvbiB0aGlzIG1lc3NhZ2UgZm9yIGRlcGxveW1lbnQNCiAgICByZWNlaXZlKG1zZzogUGFyZW50VG9DaGlsZERlcGxveUNhbXBhaWduKSB7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAvLyBub3RpZnkgcGFyZW50IHRoYXQgY29udHJhY3Qgd2FzIHN1Y2Nlc3NmdWxseSBkZXBsb3llZA0KICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzew0KICAgICAgICAgICAgdG86IHNlbGYub3duZXIsDQogICAgICAgICAgICBib2R5OiBDaGlsZFRvUGFyZW50Q2FtcGFpZ25EZXBsb3llZFN1Y2Nlc3NmdWxseXsNCiAgICAgICAgICAgICAgICBjYW1wYWlnbklkOiBtc2cuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBtc2cuYWR2ZXJ0aXNlcg0KICAgICAgICAgICAgfS50b0NlbGwoKSwNCiAgICAgICAgICAgIHZhbHVlOiBHQVNfRkVFLA0KICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHkNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgLy8gRnVuY3Rpb24gdG8gY2FsY3VsYXRlIGNhbXBhaWduIGJhbGFuY2UgKHN1cHBvcnRzIFRPTiBhbmQgVVNEVCkNCiAgICBmdW4gY2FsY0NhbXBhaWduQmFsYW5jZSgpOiBJbnQgew0KICAgICAgICBpZiAoc2VsZi5jYW1wYWlnbkRldGFpbHMucGF5bWVudE1ldGhvZCA9PSBQQVlNRU5UX01FVEhPRF9UT04pIHsNCiAgICAgICAgICAgIGxldCBjYW1wYWlnbkJhbGFuY2U6IEludCA9IG15QmFsYW5jZSgpIC0gQ0FNUEFJR05fQlVGRkVSIC0gc2VsZi50b3RhbEFmZmlsaWF0ZUVhcm5pbmdzOw0KICAgICAgICAgICAgcmV0dXJuIG1heChjYW1wYWlnbkJhbGFuY2UsIHRvbigiMCIpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnRyYWN0VVNEVEJhbGFuY2UgLSBzZWxmLnRvdGFsQWZmaWxpYXRlRWFybmluZ3M7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW4gaXNDYW1wYWlnbkV4cGlyZWQoKTogQm9vbCB7DQogICAgICAgIGlmIChzZWxmLmNhbXBhaWduRGV0YWlscy5jYW1wYWlnblZhbGlkRm9yTnVtRGF5cyA9PSBudWxsKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gbm93KCkgLSBzZWxmLmNhbXBhaWduU3RhcnRUaW1lc3RhbXAgPiBzZWxmLmNhbXBhaWduRGV0YWlscy5jYW1wYWlnblZhbGlkRm9yTnVtRGF5cyEhICogKDI0KjYwKjYwKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1biBjYW1wYWlnbkhhc1N1ZmZpY2llbnRGdW5kc1RvUGF5TWF4Q3BhKCk6IEJvb2wgew0KICAgICAgICByZXR1cm4gc2VsZi5jYWxjQ2FtcGFpZ25CYWxhbmNlKCkgPiBzZWxmLm1heENwYVZhbHVlOw0KICAgIH0NCg0KICAgIGZ1biB0cmFuc2ZlckpldHRvblVTRFQodG86IEFkZHJlc3MsIGFtb3VudDogSW50KSB7ICANCgkNCgkJcmVxdWlyZShzZWxmLmNvbnRyYWN0VVNEVEJhbGFuY2UgPj0gYW1vdW50LCAiSW5zdWZmaWNpZW50IFVTRFQgZnVuZHMgdG8gbWFrZSB0cmFuc2ZlciIpOw0KCQkNCgkJLy8gYWRqdXN0IGFtb3VudCB0byBzZW5kIGJhY2sgdG8gNiBkZWNpbWFscw0KCQlsZXQgYWRqdXN0ZWRBbW91bnQgPSBhbW91bnQgLyAxMDAwOw0KCQkNCgkJLy8gQ3JlYXRlIGZvcndhcmQgcGF5bG9hZCAob3B0aW9uYWwgY29tbWVudCkNCiAgICAgICAgbGV0IGZvcndhcmRQYXlsb2FkID0gYmVnaW5DZWxsKCkNCiAgICAgICAgICAgIC5zdG9yZVVpbnQoMCwgMzIpIC8vIDAgb3Bjb2RlIG1lYW5zIHdlIGhhdmUgYSBjb21tZW50DQogICAgICAgICAgICAuc3RvcmVTbGljZSgiVVNEVCBmcm9tIGNhbXBhaWduIi5hc1NsaWNlKCkpDQogICAgICAgICAgICAuZW5kQ2VsbCgpOw0KDQogICAgICAgIGxldCBmb3J3YXJkVG9uQW1vdW50ID0gdG9uKCIwLjAxIik7IC8vIFRPTiBmb3IgZm9yd2FyZGluZyB0byBjb250cmFjdA0KCQlsZXQgcmFuZG9tUXVlcnlJZCA9IHJhbmRvbSgwLCAxODQ0Njc0NDA3MzcwOTU1MTYxNCk7DQogICAgICAgIA0KICAgICAgICBsZXQgamV0dG9uVHJhbnNmZXJQYXlsb2FkOiBDZWxsID0gYmVnaW5DZWxsKCkNCiAgICAgICAgICAgIC5zdG9yZVVpbnQoMHhmOGE3ZWE1LCAzMikgLy8gT1AgY29kZSBmb3IgSmV0dG9uIHRyYW5zZmVyDQogICAgICAgICAgICAuc3RvcmVVaW50KHJhbmRvbVF1ZXJ5SWQsIDY0KSAvLyBRdWVyeSBJRA0KICAgICAgICAgICAgLnN0b3JlQ29pbnMoYWRqdXN0ZWRBbW91bnQpIC8vIEFtb3VudCBvZiBVU0RUIHRvIHNlbmQNCiAgICAgICAgICAgIC5zdG9yZUFkZHJlc3ModG8pIC8vIFJlY2lwaWVudCBhZGRyZXNzDQogICAgICAgICAgICAuc3RvcmVBZGRyZXNzKG15QWRkcmVzcygpKSAvLyBSZXNwb25zZSBhZGRyZXNzIGZvciBleGNlc3MgZ2FzDQogICAgICAgICAgICAuc3RvcmVCaXQoZmFsc2UpIC8vIE5vIGN1c3RvbSBwYXlsb2FkDQogICAgICAgICAgICAuc3RvcmVDb2lucyhmb3J3YXJkVG9uQW1vdW50KSAvLyBGb3J3YXJkZWQgVE9OIGFtb3VudA0KICAgICAgICAgICAgLnN0b3JlQml0KHRydWUpIC8vIEZvcndhcmQgcGF5bG9hZCBpcyBzdG9yZWQgYXMgYSByZWZlcmVuY2UNCiAgICAgICAgICAgIC5zdG9yZVJlZihmb3J3YXJkUGF5bG9hZCkNCiAgICAgICAgICAgIC5lbmRDZWxsKCk7DQoNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBzZWxmLmNvbnRyYWN0VXNkdFdhbGxldCwgIC8vIFRoZSBKZXR0b24gd2FsbGV0IHRvIHNlbmQgZnJvbQ0KICAgICAgICAgICAgdmFsdWU6IEdBU19GRUUqMywgIC8vIFRoaXMgVE9OIGlzIGZvciBwYXlpbmcgZm9yIGdhcyBmZWVzIG9mIHRoZSB0cmFuc2Zlcg0KICAgICAgICAgICAgYm9keTogamV0dG9uVHJhbnNmZXJQYXlsb2FkLA0KICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHkgfCBTZW5kSWdub3JlRXJyb3JzDQogICAgICAgIH0pOw0KCQkJCQ0KCQkvLyBEZWR1Y3QgYW1vdW50IGZyb20gdGhlIGNvbnRyYWN0J3MgVVNEVCBiYWxhbmNlDQogICAgICAgIHNlbGYuY29udHJhY3RVU0RUQmFsYW5jZSAtPSBhbW91bnQ7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IFRva2VuRXhjZXNzZXMpIHsNCiAgICAgICAgLy8gZG8gbm90aGluZyAtIGV4Y2VzcyB0b24gd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udHJhY3QncyBUT04gYmFsYW5jZQ0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuY29udHJhY3RVc2R0V2FsbGV0LCAiT25seSBjb250cmFjdCB3YWxsZXQgYWxsb3dlZCB0byBpbnZva2UiKTsNCiAgICAgICAgcmVxdWlyZShzZWxmLmNhbXBhaWduRGV0YWlscy5wYXltZW50TWV0aG9kID09IFBBWU1FTlRfTUVUSE9EX1VTRFQsICJPbmx5IFVTRFQgQ2FtcGFpZ25zIGNhbiBhY2NlcHQgZXhjZXNzIFRPTiIpOw0KICAgIH0NCg0KICAgIC8vIEZ1bmN0aW9uIHRvIHRyYWNrIHJlY2VpdmVkIFVTRFQgSmV0dG9ucyBhbmQgdXBkYXRlIGJhbGFuY2UNCiAgICByZWNlaXZlKG1zZzogSmV0dG9uVHJhbnNmZXJOb3RpZmljYXRpb24pIHsNCiAgICAgICAgDQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5jb250cmFjdFVzZHRXYWxsZXQsICJPbmx5IGNvbnRyYWN0IHdhbGxldCBhbGxvd2VkIHRvIGludm9rZSIpOw0KICAgICAgICByZXF1aXJlKG1zZy5zZW5kZXIgPT0gc2VsZi5hZHZlcnRpc2VyLCAiT25seSBhZHZlcnRpc2VyIGNhbiBzZW5kIHRva2VucyB0byB0aGlzIGNvbnRyYWN0Iik7DQogICAgICAgIHJlcXVpcmUoc2VsZi5jYW1wYWlnbkRldGFpbHMucGF5bWVudE1ldGhvZCA9PSBQQVlNRU5UX01FVEhPRF9VU0RULCAiT25seSBVU0RUIENhbXBhaWducyBjYW4gYWNjZXB0IFVTRFQiKTsNCiAgICAgICAgDQogICAgICAgIHNlbGYubnVtQWR2ZXJ0aXNlclJlcGxlbmlzaENhbXBhaWduICs9IDE7DQoNCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBuZXQgYW1vdW50IGFmdGVyIGZlZXMNCiAgICAgICAgbGV0IGRlcG9zaXRBbW91bnQgPSAobXNnLmFtb3VudCAqIDEwMDApOyAvLyBjb252ZXJ0IHRvIDkgZGVjaW1hbHMNCiAgICAgICAgbGV0IGZlZTogSW50ID0gKGRlcG9zaXRBbW91bnQgKiBzZWxmLmFkdmVydGlzZXJGZWVQZXJjZW50YWdlICsgOTk5OSkgLyAxMDAwMDsgIC8vIGUuZy4sIGZlZT0yMDAgPSAyJQ0KICAgICAgICBsZXQgbmV0QW1vdW50OiBJbnQgPSBkZXBvc2l0QW1vdW50IC0gZmVlOw0KDQogICAgICAgIC8vIFRyYW5zZmVyIGZlZSB0byBwYXlvdXQgYWRkcmVzcw0KICAgICAgICBpZiAoZmVlID4gdG9uKCIwIikpIHsNCiAgICAgICAgICAgc2VsZi50cmFuc2ZlckpldHRvblVTRFQoc2VsZi5wYXlvdXQsIGZlZSk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBVcGRhdGUgdGhlIFVTRFQgYmFsYW5jZSBpbiB0aGUgc3RhdGUuICBBZGp1c3QgdG8gOSBkZWNpbWFscyAoc2luY2Ugd2UgcmVjZWl2ZWQgNiBkZWNpbWFscykNCiAgICAgICAgc2VsZi5jb250cmFjdFVTRFRCYWxhbmNlICs9IG5ldEFtb3VudDsNCg0KICAgIH0NCg0KICAgIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBhZmZpbGlhdGUgd2l0aGRyYXdhbHMgKHN1cHBvcnRzIGJvdGggVE9OIGFuZCBVU0RUKQ0KICAgIHJlY2VpdmUobXNnOiBBZmZpbGlhdGVXaXRoZHJhd0Vhcm5pbmdzKSB7DQoNCiAgICAgICAgc2VsZi5yZXF1aXJlTm90U3RvcHBlZCgpOw0KICAgICAgICByZXF1aXJlKGNvbnRleHQoKS52YWx1ZSA+PSBHQVNfRkVFKjIsICJJbnN1ZmZpY2llbnQgZ2FzIGZlZXMgdG8gd2l0aGRyYXcgZWFybmluZ3MiKTsNCiAgICAgICAgDQogICAgICAgIGxldCBhZmZpbGlhdGVEYXRhT3B0aW9uYWwgPSBzZWxmLmFmZmlsaWF0ZXMuZ2V0KG1zZy5hZmZpbGlhdGVJZCk7DQogICAgICAgIHJlcXVpcmUoYWZmaWxpYXRlRGF0YU9wdGlvbmFsICE9IG51bGwsICJBZmZpbGlhdGUgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgbGV0IGFmZmlsaWF0ZURhdGE6IEFmZmlsaWF0ZURhdGEgPSBhZmZpbGlhdGVEYXRhT3B0aW9uYWwhITsNCg0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IGFmZmlsaWF0ZURhdGEuYWZmaWxpYXRlLCAiT25seSBhZmZpbGlhdGUgY2FuIHdpdGhkcmF3IGZ1bmRzIik7DQoNCiAgICAgICAgbGV0IHdpdGhkcmF3YWxBbW91bnQgPSBhZmZpbGlhdGVEYXRhLndpdGhkcmF3RWFybmluZ3M7DQogICAgICAgIHJlcXVpcmUod2l0aGRyYXdhbEFtb3VudCA+IDAsIk11c3Qgd2l0aGRyYXcgYSBwb3NpdGl2ZSBhbW91bnQiKTsNCg0KICAgICAgICAvLyB1cGRhdGUgc3RhdGUNCiAgICAgICAgYWZmaWxpYXRlRGF0YS53aXRoZHJhd0Vhcm5pbmdzID0gdG9uKCIwIik7DQogICAgICAgIHNlbGYuYWZmaWxpYXRlcy5zZXQobXNnLmFmZmlsaWF0ZUlkLCBhZmZpbGlhdGVEYXRhKTsNCg0KICAgICAgICAgLy8gVXBkYXRlIGNhbXBhaWdu4oCZcyB0b3RhbCBhZmZpbGlhdGUgZWFybmluZ3MNCiAgICAgICAgc2VsZi50b3RhbEFmZmlsaWF0ZUVhcm5pbmdzIC09IHdpdGhkcmF3YWxBbW91bnQ7DQoNCiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBuZXQgYW1vdW50IGFmdGVyIGZlZXMNCiAgICAgICAgbGV0IGZlZTogSW50ID0gKHdpdGhkcmF3YWxBbW91bnQgKiBzZWxmLmFmZmlsaWF0ZUZlZVBlcmNlbnRhZ2UgKyA5OTk5KSAvIDEwMDAwOyAgLy8gZS5nLiwgZmVlPTIwMCA9IDIlDQogICAgICAgIGxldCBuZXRBbW91bnQ6IEludCA9IHdpdGhkcmF3YWxBbW91bnQgLSBmZWU7DQoNCiAgICAgICAgLy8gU2VuZCB0aGUgYXBwcm92ZWQgb3IgZnVsbCBhbW91bnQgZGlyZWN0bHkgdG8gdGhlIGFmZmlsaWF0ZeKAmXMgd2FsbGV0DQogICAgICAgIGlmIChzZWxmLmNhbXBhaWduRGV0YWlscy5wYXltZW50TWV0aG9kID09IFBBWU1FTlRfTUVUSE9EX1RPTikgew0KDQogICAgICAgICAgICAvLyBUcmFuc2ZlciBmZWUgdG8gcGF5b3V0IGFkZHJlc3MNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IHNlbGYucGF5b3V0LA0KICAgICAgICAgICAgICAgIHZhbHVlOiBmZWUsDQogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLA0KICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5IHwgU2VuZElnbm9yZUVycm9ycw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IGFmZmlsaWF0ZURhdGEuYWZmaWxpYXRlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiBuZXRBbW91bnQsDQogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLA0KICAgICAgICAgICAgICAgIGJvZHk6IFBheUFmZmlsaWF0ZXthZmZpbGlhdGVJZDogbXNnLmFmZmlsaWF0ZUlkLCBhbW91bnQ6IG5ldEFtb3VudH0udG9DZWxsKCksDQogICAgICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHkgfCBTZW5kSWdub3JlRXJyb3JzDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIEZvciBVU0RUIEpldHRvbiwgdHJhbnNmZXIgYm90aCBmZWUgYW5kIHdpdGhkcmF3YWwgYW1vdW50DQogICAgICAgICAgICBzZWxmLnRyYW5zZmVySmV0dG9uVVNEVChzZWxmLnBheW91dCwgZmVlKTsNCiAgICAgICAgICAgIHNlbGYudHJhbnNmZXJKZXR0b25VU0RUKGFmZmlsaWF0ZURhdGEuYWZmaWxpYXRlLCBuZXRBbW91bnQpOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvLyBmdW5jdGlvbiBzaWduIG9mZiBlYXJuaW5ncyBmb3Igc29tZSBhZmZpbGlhdGVzIGR1ZSB0byBwb29yIGV4ZWN1dGlvbg0KICAgIHJlY2VpdmUobXNnOiBBZHZlcnRpc2VyU2lnbk9mZldpdGhkcmF3KSB7DQoNCiAgICAgICAgc2VsZi5yZXF1aXJlTm90U3RvcHBlZCgpOw0KICAgICAgICByZXF1aXJlKHNlbGYuaXNDYW1wYWlnbkFjdGl2ZSgpLCAiQ2FtcGFpZ24gaXMgbm90IGFjdGl2ZSIpOw0KICAgICAgICByZXF1aXJlKHNlbGYuY2FtcGFpZ25EZXRhaWxzLnJlcXVpcmVzQWR2ZXJ0aXNlckFwcHJvdmFsRm9yV2l0aGRyYXdsLCAiQWR2ZXJ0aXNlciBjYW4gb25seSBtb2RpZnkgYWZmaWxpYXRlIGVhcm5pbmdzIG9ubHkgaWYgY2FtcGFpZ24gaXMgc2V0dXAgdGhpcyByZXF1aXJlc0FwcHJvdmFsRm9yV2l0aGRyYXdsRmxhZyIpOw0KICAgICAgICANCiAgICAgICAgZm9yZWFjaChhZmZpbGlhdGVJZCwgYWZmaWxpYXRlRGF0YSBpbiBzZWxmLmFmZmlsaWF0ZXMpIHsNCg0KICAgICAgICAgICAgbGV0IGFtb3VudFRvV2l0aGRyYXdPcHRpb25hbCA9IG1zZy5zZXRBZmZpbGlhdGVzV2l0aGRyYXdFYXJuaW5ncy5nZXQoYWZmaWxpYXRlSWQpOyANCiAgICAgICAgICAgIGlmIChhbW91bnRUb1dpdGhkcmF3T3B0aW9uYWwgIT0gbnVsbCkgew0KDQogICAgICAgICAgICAgICAgbGV0IGFtb3VudFRvV2l0aGRyYXcgPSBhbW91bnRUb1dpdGhkcmF3T3B0aW9uYWwhITsNCiAgICAgICAgICAgICAgICByZXF1aXJlKGFtb3VudFRvV2l0aGRyYXcgPD0gYWZmaWxpYXRlRGF0YS5wZW5kaW5nQXBwcm92YWxFYXJuaW5ncywgIndpdGhkcmF3YWJsZUFtb3VudCBtdXN0IGJlIDw9IHBlbmRpbmdBcHByb3ZhbEVhcm5pbmdzIik7DQoNCiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZGlmZiAoZGlmZiBjYW4gYmUgemVybykNCiAgICAgICAgICAgICAgICBsZXQgZGlmZjogSW50ID0gKGFmZmlsaWF0ZURhdGEucGVuZGluZ0FwcHJvdmFsRWFybmluZ3MgLSBhbW91bnRUb1dpdGhkcmF3KTsNCiAgICAgICAgICAgICAgICBhZmZpbGlhdGVEYXRhLnBlbmRpbmdBcHByb3ZhbEVhcm5pbmdzIC09IGRpZmY7IC8vIHVwZGF0ZSBhZmZpbGlhdGUncyBwZW5kaW5nIGFwcHJvdmFsIGVhcm5pbmdzDQogICAgICAgICAgICAgICAgYWZmaWxpYXRlRGF0YS50b3RhbEVhcm5pbmdzIC09IGRpZmY7IC8vIHVwZGF0ZSBhZmZpbGlhdGUncyB0b3RhbCBlYXJuaW5ncw0KICAgICAgICAgICAgICAgIHNlbGYudG90YWxBZmZpbGlhdGVFYXJuaW5ncyAtPSBkaWZmOyAvLyByZXR1cm4gZGlmZiB0byBjYW1wYWlnbg0KICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGFmZmlsaWF0ZURhdGEud2l0aGRyYXdFYXJuaW5ncyArPSBhZmZpbGlhdGVEYXRhLnBlbmRpbmdBcHByb3ZhbEVhcm5pbmdzOw0KICAgICAgICAgICAgYWZmaWxpYXRlRGF0YS5wZW5kaW5nQXBwcm92YWxFYXJuaW5ncyA9IHRvbigiMCIpOyAgDQogICAgICAgICAgICBzZWxmLmFmZmlsaWF0ZXMuc2V0KGFmZmlsaWF0ZUlkLCBhZmZpbGlhdGVEYXRhKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHNlbGYubnVtQWR2ZXJ0aXNlclNpZ25PZmZzICs9IDE7DQoJCQ0KCQkvLyBzZW5kIHJlbWFpbmluZyB2YWx1ZSBiYWNrIHRvIGFkdmVydGlzZXINCgkJc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBzZWxmLmFkdmVydGlzZXIsDQogICAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSANCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IFBhcmVudFRvQ2hpbGRTZWl6ZUNhbXBhaWduKSB7DQogICAgICAgIA0KICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOw0KDQogICAgICAgIC8vIENoZWNrIGZvciBUT04gb3IgVVNEVCBiYXNlZCBvbiB0aGUgcGF5bWVudCBtZXRob2QNCgkJaWYgKHNlbGYuY29udHJhY3RVU0RUQmFsYW5jZSA+IDApIHsNCgkJCXNlbGYudHJhbnNmZXJKZXR0b25VU0RUKHNlbGYucGF5b3V0LCBzZWxmLmNvbnRyYWN0VVNEVEJhbGFuY2UpOw0KCQl9DQoJCQ0KCQlzZW5kKFNlbmRQYXJhbWV0ZXJzew0KICAgICAgICAgICAgdG86IHNlbGYucGF5b3V0LA0KICAgICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBmdW4gdXBkYXRlTWF4Q3BhVmFsdWUodmFsOiBJbnQpIHsNCiAgICAgICAgc2VsZi5tYXhDcGFWYWx1ZSA9IG1heChzZWxmLm1heENwYVZhbHVlLCB2YWwpOw0KICAgIH0NCg0KICAgIC8vIGFkdmV0aXNlciBzZXRzIGNhbXBhaWduIGRldGFpbHMgDQogICAgcmVjZWl2ZSAobXNnOiBBZHZlcnRpc2VyU2V0Q2FtcGFpZ25EZXRhaWxzKSB7DQoNCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkdmVydGlzZXIsICJPbmx5IGFkdmVydGlzZXIgY2FuIHNldCBjYW1wYWlnbiBkZXRhaWxzIik7DQogICAgICAgIHJlcXVpcmUoc2VsZi5zdGF0ZSA9PSBTVEFURV9DQU1QQUlHTl9DUkVBVEVELCAiTXVzdCBiZSBpbiBzdGF0ZTogU1RBVEVfQ0FNUEFJR05fQ1JFQVRFRCIpOw0KICAgICAgICByZXF1aXJlKG1zZy5jYW1wYWlnbkRldGFpbHMucGF5bWVudE1ldGhvZCA9PSBQQVlNRU5UX01FVEhPRF9UT04gfHwgbXNnLmNhbXBhaWduRGV0YWlscy5wYXltZW50TWV0aG9kID09IFBBWU1FTlRfTUVUSE9EX1VTRFQsICJPbmx5IFRPTiBvciBVU0RUIHN1cHBvcnRlZCBhcyBwYXltZW50IG1ldGhvZHMiKTsNCiAgICAgICAgcmVxdWlyZSgobXNnLmNhbXBhaWduRGV0YWlscy5jYW1wYWlnblZhbGlkRm9yTnVtRGF5cyA9PSBudWxsKSB8fCBtc2cuY2FtcGFpZ25EZXRhaWxzLmNhbXBhaWduVmFsaWRGb3JOdW1EYXlzISEgPiAwLCAiSW52YWxpZCBjYW1wYWlnblZhbGlkRm9yTnVtRGF5cyBwYXJhbSIpOw0KCQkNCiAgICAgICAgLy8gZ2V0IG1heENwYVZhbHVlDQogICAgICAgIGxldCBtYXhDcGFWYWx1ZTogSW50ID0gdG9uKCIwIik7DQogICAgICAgIGZvcmVhY2ggKGtleSwgdmFsIGluIG1zZy5jYW1wYWlnbkRldGFpbHMucmVndWxhclVzZXJzQ29zdFBlckFjdGlvbikgew0KICAgICAgICAgICAgc2VsZi51cGRhdGVNYXhDcGFWYWx1ZSh2YWwpOw0KICAgICAgICB9DQoNCiAgICAgICAgZm9yZWFjaCAoa2V5LCB2YWwgaW4gbXNnLmNhbXBhaWduRGV0YWlscy5wcmVtaXVtVXNlcnNDb3N0UGVyQWN0aW9uKSB7DQogICAgICAgICAgICBzZWxmLnVwZGF0ZU1heENwYVZhbHVlKHZhbCk7DQogICAgICAgIH0NCg0KICAgICAgICBzZWxmLmNhbXBhaWduRGV0YWlscyA9IG1zZy5jYW1wYWlnbkRldGFpbHM7DQogICAgICAgIHNlbGYuY2FtcGFpZ25TdGFydFRpbWVzdGFtcCA9IG5vdygpOw0KICAgICAgICBzZWxmLnN0YXRlID0gU1RBVEVfQ0FNUEFJR05fREVUQUlMU19TRVRfQllfQURWRVJUSVNFUjsNCg0KICAgICAgICAvLyByZXR1cm4gZGVwbG95IGNvc3RzIHRvIHBhcmVudA0KICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzew0KICAgICAgICAgICAgdG86IHNlbGYub3duZXIsDQogICAgICAgICAgICBib2R5OiBDaGlsZFRvUGFyZW50QWR2ZXJ0aXNlclNpZ25lZENhbXBhaWduRGV0YWlsc3sNCiAgICAgICAgICAgICAgICBjYW1wYWlnbklkOiBzZWxmLmNhbXBhaWduSWQsDQogICAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogc2VsZi5hZHZlcnRpc2VyDQogICAgICAgICAgICB9LnRvQ2VsbCgpLA0KICAgICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGFkdmVydGlzZXIgcmVwbGVuaXNobWVudCBvZiBUT04NCiAgICByZWNlaXZlKG1zZzogQWR2ZXJ0aXNlclJlcGxlbmlzaCkgew0KICAgICAgICByZXF1aXJlKHNlbGYuc3RhdGUgPT0gU1RBVEVfQ0FNUEFJR05fREVUQUlMU19TRVRfQllfQURWRVJUSVNFUiwgIk11c3QgYmUgaW4gc3RhdGU6IFNUQVRFX0NBTVBBSUdOX0RFVEFJTFNfU0VUX0JZX0FEVkVSVElTRVIiKTsNCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkdmVydGlzZXIsICJPbmx5IHRoZSBhZHZlcnRpc2VyIGNhbiByZXBsZW5pc2ggdGhlIGNvbnRyYWN0Iik7DQoNCiAgICAgICAgc2VsZi5udW1BZHZlcnRpc2VyUmVwbGVuaXNoQ2FtcGFpZ24gKz0gMTsNCg0KICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG5ldCBhbW91bnQgYWZ0ZXIgZmVlcw0KICAgICAgICBsZXQgZGVwb3NpdEFtb3VudCA9IGNvbnRleHQoKS52YWx1ZTsNCiAgICAgICAgbGV0IGZlZTogSW50ID0gKGRlcG9zaXRBbW91bnQgKiBzZWxmLmFkdmVydGlzZXJGZWVQZXJjZW50YWdlICsgOTk5OSkgLyAxMDAwMDsgIC8vIGUuZy4sIGZlZT0yMDAgPSAyJQ0KICAgICAgICBsZXQgbmV0QW1vdW50OiBJbnQgPSBkZXBvc2l0QW1vdW50IC0gZmVlOw0KDQogICAgICAgIC8vIFRyYW5zZmVyIGZlZSB0byBwYXlvdXQgYWRkcmVzcw0KICAgICAgICBpZiAoZmVlID4gdG9uKCIwIikpIHsNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IHNlbGYucGF5b3V0LA0KICAgICAgICAgICAgICAgIHZhbHVlOiBmZWUsDQogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLA0KICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5IHwgU2VuZElnbm9yZUVycm9ycw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgYWR2ZXJ0aXNlciByZXBsZW5pc2htZW50IFRPTiBmb3IgZ2FzIGZlZXMgdXNhZ2UgKGluIFVEU1QgYmFzZWQgY2FtcGFpZ25zKQ0KICAgIHJlY2VpdmUobXNnOiBBZHZlcnRpc2VyUmVwbGVuaXNoR2FzRmVlc0ZvclVTRFRDYW1wYWlnbikgew0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuYWR2ZXJ0aXNlciwgIk9ubHkgdGhlIGFkdmVydGlzZXIgY2FuIHJlcGxlbmlzaCB0aGUgY29udHJhY3QiKTsNCiAgICAgICAgcmVxdWlyZShzZWxmLnN0YXRlID09IFNUQVRFX0NBTVBBSUdOX0RFVEFJTFNfU0VUX0JZX0FEVkVSVElTRVIsICJNdXN0IGJlIGluIHN0YXRlOiBTVEFURV9DQU1QQUlHTl9ERVRBSUxTX1NFVF9CWV9BRFZFUlRJU0VSIik7DQogICAgICAgIHJlcXVpcmUoc2VsZi5jYW1wYWlnbkRldGFpbHMucGF5bWVudE1ldGhvZCA9PSBQQVlNRU5UX01FVEhPRF9VU0RULCAiQ2FuIHJlcGxlbmlzaCBUT04gZm9yIGdhcyBmZWVzIGZvciBVU0RUIGNhbWFwaWducyBvbmx5Iik7DQogICAgDQogICAgICAgIHNlbGYubnVtQWR2ZXJ0aXNlclJlcGxlbmlzaEdhc0ZlZXMgKz0gMTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWZmaWxpYXRlQ3JlYXRlTmV3QWZmaWxpYXRlKSB7DQoNCiAgICAgICAgcmVxdWlyZShzZWxmLmlzQ2FtcGFpZ25BY3RpdmUoKSwgIkNhbXBhaWduIGlzIG5vdCBhY3RpdmUiKTsNCgkJcmVxdWlyZShjb250ZXh0KCkudmFsdWUgPj0gRklYRURfRkVFX0NSRUFURV9BRkZJTElBVEUsICJJbnN1ZmZpY2llbnQgZnVuZHMgdG8gY3JlYXRlIGFmZmlsaWF0ZSIpOw0KDQogICAgICAgIGxldCBudW1BZmZpbGlhdGVzID0gc2VsZi5jdXJyQWZmaWxpYXRlSWQ7DQogICAgICAgIHJlcXVpcmUobnVtQWZmaWxpYXRlcyA8PSBNQVhfTlVNX0FGRklMSUFURVMsICJSZWFjaGVkIG1heCBudW1iZXIgb2YgYWZmaWxpYXRlcyBmb3IgdGhpcyBjYW1wYWlnbiIpOw0KDQogICAgICAgIGxldCBhZmZpbGlhdGVJZCA9IHNlbGYuY3VyckFmZmlsaWF0ZUlkOw0KICAgICAgICBzZWxmLmN1cnJBZmZpbGlhdGVJZCArPSAxOw0KDQogICAgICAgIGxldCBhZmZpbGlhdGVJbml0aWFsU3RhdGU6IEludCA9IHNlbGYuY2FtcGFpZ25EZXRhaWxzLmlzUHVibGljQ2FtcGFpZ24gPyBTVEFURV9BRkZJTElBVEVfQUNUSVZFIDogU1RBVEVfQUZGSUxJQVRFX1BFTkRJTkdfQVBQUk9WQUw7DQoNCiAgICAgICAgc2VsZi5hZmZpbGlhdGVzLnNldChhZmZpbGlhdGVJZCwgQWZmaWxpYXRlRGF0YXsNCiAgICAgICAgICAgIGFmZmlsaWF0ZTogc2VuZGVyKCksIA0KICAgICAgICAgICAgc3RhdGU6IGFmZmlsaWF0ZUluaXRpYWxTdGF0ZSwNCiAgICAgICAgICAgIHVzZXJBY3Rpb25zU3RhdHM6IGVtcHR5TWFwKCksIA0KICAgICAgICAgICAgcHJlbWl1bVVzZXJBY3Rpb25zU3RhdHM6IGVtcHR5TWFwKCksIA0KICAgICAgICAgICAgcGVuZGluZ0FwcHJvdmFsRWFybmluZ3M6IHRvbigiMCIpLA0KICAgICAgICAgICAgdG90YWxFYXJuaW5nczogdG9uKCIwIiksDQoJCQl3aXRoZHJhd0Vhcm5pbmdzOiB0b24oIjAiKQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBub3RpZnkgcGFyZW50DQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogc2VsZi5vd25lciwNCiAgICAgICAgICAgIGJvZHk6IENoaWxkVG9QYXJlbnRBZmZpbGlhdGVDcmVhdGVkew0KICAgICAgICAgICAgICAgIGNhbXBhaWduSWQ6IHNlbGYuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBzZWxmLmFkdmVydGlzZXIsDQogICAgICAgICAgICAgICAgYWZmaWxpYXRlSWQ6IGFmZmlsaWF0ZUlkLA0KICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogc2VuZGVyKCksDQogICAgICAgICAgICAgICAgc3RhdGU6IGFmZmlsaWF0ZUluaXRpYWxTdGF0ZQ0KICAgICAgICAgICAgfS50b0NlbGwoKSwNCiAgICAgICAgICAgIHZhbHVlOiAwLA0KICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlLCANCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEFkdmVydGlzZXJBcHByb3ZlQWZmaWxpYXRlKSB7DQoNCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkdmVydGlzZXIsICJPbmx5IHRoZSBhZHZlcnRpc2VyIGNhbiByZW1vdmUgYW4gZXhpc3RpbmcgYWZmaWxpYXRlIik7DQogICAgICAgIHJlcXVpcmUoIXNlbGYuY2FtcGFpZ25EZXRhaWxzLmlzUHVibGljQ2FtcGFpZ24sICJDYW5ub3QgbWFudWFsbHkgYWRkIGFmZmlsaWF0ZXMgdG8gYW4gcHVibGljIGNhbXBhaWduIik7DQogICAgICAgIA0KICAgICAgICBsZXQgYWZmaWxpYXRlRGF0YU9wdGlvbmFsID0gc2VsZi5hZmZpbGlhdGVzLmdldChtc2cuYWZmaWxpYXRlSWQpOw0KICAgICAgICByZXF1aXJlKGFmZmlsaWF0ZURhdGFPcHRpb25hbCAhPSBudWxsLCAiQWZmaWxpYXRlIGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIGxldCBhZmZpbGlhdGVEYXRhOiBBZmZpbGlhdGVEYXRhID0gYWZmaWxpYXRlRGF0YU9wdGlvbmFsISE7DQoNCiAgICAgICAgcmVxdWlyZShhZmZpbGlhdGVEYXRhLnN0YXRlID09IFNUQVRFX0FGRklMSUFURV9QRU5ESU5HX0FQUFJPVkFMLCAiQWZmaWxpYXRlIGluIEFDVElWRSBzdGF0ZSIpOw0KICAgICAgICBhZmZpbGlhdGVEYXRhLnN0YXRlID0gU1RBVEVfQUZGSUxJQVRFX0FDVElWRTsNCg0KICAgICAgICBzZWxmLmFmZmlsaWF0ZXMuc2V0KG1zZy5hZmZpbGlhdGVJZCwgYWZmaWxpYXRlRGF0YSk7DQoNCiAgICAgICAgLy9lbWl0IGV2ZW50IHNvIHBhcmVudCB3aWxsIG5vdGlmeSBhZmZpbGlhdGUNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBzZWxmLm93bmVyLA0KICAgICAgICAgICAgYm9keTogQ2hpbGRUb1BhcmVudEFkdmVydGlzZXJBcHByb3ZlZEFmZmlsaWF0ZSB7DQogICAgICAgICAgICAgICAgY2FtcGFpZ25JZDogc2VsZi5jYW1wYWlnbklkLA0KICAgICAgICAgICAgICAgIGFkdmVydGlzZXI6IHNlbGYuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgICAgICBhZmZpbGlhdGVJZDogbXNnLmFmZmlsaWF0ZUlkLA0KICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogYWZmaWxpYXRlRGF0YS5hZmZpbGlhdGUNCiAgICAgICAgICAgIH0udG9DZWxsKCksDQogICAgICAgICAgICB2YWx1ZTogR0FTX0ZFRSwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5IA0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEFkdmVydGlzZXJSZW1vdmVBZmZpbGlhdGUpIHsNCiAgICAgICAgDQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5hZHZlcnRpc2VyLCAiT25seSB0aGUgYWR2ZXJ0aXNlciBjYW4gcmVtb3ZlIGFuIGV4aXN0aW5nIGFmZmlsaWF0ZSIpOw0KICAgICAgICANCiAgICAgICAgbGV0IGFmZmlsaWF0ZURhdGFPcHRpb25hbCA9IHNlbGYuYWZmaWxpYXRlcy5nZXQobXNnLmFmZmlsaWF0ZUlkKTsNCiAgICAgICAgcmVxdWlyZShhZmZpbGlhdGVEYXRhT3B0aW9uYWwgIT0gbnVsbCwgIkFmZmlsaWF0ZSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICBsZXQgYWZmaWxpYXRlRGF0YTogQWZmaWxpYXRlRGF0YSA9IGFmZmlsaWF0ZURhdGFPcHRpb25hbCEhOw0KDQogICAgICAgIHNlbGYuYWZmaWxpYXRlcy5kZWwobXNnLmFmZmlsaWF0ZUlkKTsNCg0KICAgICAgICAvL2VtaXQgZXZlbnQgc28gcGFyZW50IHdpbGwgbm90aWZ5IGFmZmlsaWF0ZQ0KICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzew0KICAgICAgICAgICAgdG86IHNlbGYub3duZXIsDQogICAgICAgICAgICBib2R5OiBDaGlsZFRvUGFyZW50QWR2ZXJ0aXNlclJlbW92ZWRBZmZpbGlhdGUgew0KICAgICAgICAgICAgICAgIGNhbXBhaWduSWQ6IHNlbGYuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBzZWxmLmFkdmVydGlzZXIsDQogICAgICAgICAgICAgICAgYWZmaWxpYXRlSWQ6IG1zZy5hZmZpbGlhdGVJZCwNCiAgICAgICAgICAgICAgICBhZmZpbGlhdGU6IGFmZmlsaWF0ZURhdGEuYWZmaWxpYXRlDQogICAgICAgICAgICB9LnRvQ2VsbCgpLA0KICAgICAgICAgICAgdmFsdWU6IEdBU19GRUUsDQogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSANCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEFkdmVydGlzZXJXaXRoZHJhd0Z1bmRzKSB7DQoNCiAgICAgICAgc2VsZi5yZXF1aXJlTm90U3RvcHBlZCgpOw0KICAgICAgICByZXF1aXJlKHNlbGYuc3RhdGUgPT0gU1RBVEVfQ0FNUEFJR05fREVUQUlMU19TRVRfQllfQURWRVJUSVNFUiwgIk11c3QgYmUgaW4gc3RhdGU6IFNUQVRFX0NBTVBBSUdOX0RFVEFJTFNfU0VUX0JZX0FEVkVSVElTRVIiKTsNCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkdmVydGlzZXIsICJPbmx5IHRoZSBhZHZlcnRpc2VyIGNhbiByZW1vdmUgdGhlIGNhbXBhaWduIGFuZCB3aXRoZHJhdyBhbGwgZnVuZHMiKTsNCiAgICAgICAgDQogICAgICAgIGxldCBjYW1wYWlnbkJhbGFuY2U6IEludCA9IHNlbGYuY2FsY0NhbXBhaWduQmFsYW5jZSgpOw0KICAgICAgICByZXF1aXJlKGNhbXBhaWduQmFsYW5jZSA+PSBtc2cuYW1vdW50LCAiSW5zdWZmaWNpZW50IGNhbXBhaWduIGZ1bmRzIik7DQoNCiAgICAgICAgc2VsZi5udW1BZHZlcnRpc2VyV2l0aGRyYXdscyArPSAxOw0KDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogc2VsZi5vd25lciwNCiAgICAgICAgICAgIGJvZHk6IENoaWxkVG9QYXJlbnRBZHZlcnRpc2VyV2l0aGRyYXdGdW5kcyB7DQogICAgICAgICAgICAgICAgY2FtcGFpZ25JZDogc2VsZi5jYW1wYWlnbklkLA0KICAgICAgICAgICAgICAgIGFkdmVydGlzZXI6IHNlbGYuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQNCiAgICAgICAgICAgIH0udG9DZWxsKCksDQogICAgICAgICAgICB2YWx1ZTogR0FTX0ZFRSwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5IHwgU2VuZElnbm9yZUVycm9ycw0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBDaGVjayBmb3IgVE9OIG9yIFVTRFQgYmFzZWQgb24gdGhlIHBheW1lbnQgbWV0aG9kDQogICAgICAgIGlmIChzZWxmLmNhbXBhaWduRGV0YWlscy5wYXltZW50TWV0aG9kID09IFBBWU1FTlRfTUVUSE9EX1RPTikgeyANCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IHNlbGYuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgICAgICB2YWx1ZTogbXNnLmFtb3VudCwNCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBzZWxmLnRyYW5zZmVySmV0dG9uVVNEVChzZWxmLmFkdmVydGlzZXIsIG1zZy5hbW91bnQpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEJvdFVzZXJBY3Rpb24pIHsNCg0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuYm90LCAiT25seSBib3QgY2FuIGludm9rZSB0aGlzIGZ1bmN0aW9uIik7DQogICAgICAgIHJlcXVpcmUobXNnLnVzZXJBY3Rpb25PcENvZGUgPD0gVVNFUl9BQ1RJT05fT1BfQ09ERVNfQk9ULCAiQm90IGNhbiB2ZXJpZnkgb25seSBvcCBjb2RlcyB1bmRlciAyMDAwMCIpOw0KICAgICAgICByZXF1aXJlKG15QmFsYW5jZSgpID49IGNvbnRleHQoKS52YWx1ZSArIEdBU19GRUUsICJJbnN1ZmZpY2llbnQgY29udHJhY3QgZnVuZHMgdG8gcmVwYXkgYm90Iik7DQoNCiAgICAgICAgc2VsZi5hcHBseVVzZXJBY3Rpb24obXNnLnVzZXJBY3Rpb25PcENvZGUsIG1zZy5hZmZpbGlhdGVJZCwgbXNnLmlzUHJlbWl1bVVzZXIpOw0KDQogICAgICAgIC8vIHJldHVybiBnYXMgZmVlcyB0byBib3QNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBzZWxmLmJvdCwNCiAgICAgICAgICAgIHZhbHVlOiBjb250ZXh0KCkudmFsdWUsICAvLyByZXR1cm4gZ2FzIGZlZSBwYWlkIGJ5IHRoZSBib3QNCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHJlY2VpdmUobXNnOiBBZHZlcnRpc2VyQWRkTmV3VXNlck9wQ29kZSkgew0KDQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5hZHZlcnRpc2VyLCAiT25seSBhZHZlcnRpc2VyIGNhbiBhZGQgdXNlciBvcCBjb2RlcyIpOw0KICAgICAgICByZXF1aXJlKHNlbGYuaXNDYW1wYWlnbkFjdGl2ZSgpLCAiQ2FtcGFpZ24gaXMgbm90IGFjdGl2ZSIpOw0KDQogICAgICAgIGxldCBuZXdVc2VyT3BDb2RlOiBJbnQgPSBtc2cudXNlck9wQ29kZTsNCiAgICAgICAgbGV0IGlzUHJlbWl1bVVzZXJPcENvZGU6IEJvb2wgPSBtc2cuaXNQcmVtaXVtVXNlck9wQ29kZTsNCiAgICAgICAgbGV0IGNwYTogSW50ID0gbXNnLmNvc3RQZXJBY3Rpb247DQoNCiAgICAgICAgaWYgKGlzUHJlbWl1bVVzZXJPcENvZGUpIHsNCiAgICAgICAgICAgIHJlcXVpcmUoc2VsZi5jYW1wYWlnbkRldGFpbHMucHJlbWl1bVVzZXJzQ29zdFBlckFjdGlvbi5nZXQobmV3VXNlck9wQ29kZSkgIT0gbnVsbCwgIkNhbiBvbmx5IGFkZCBvcCBjb2RlcyIpOw0KICAgICAgICAgICAgc2VsZi51cGRhdGVNYXhDcGFWYWx1ZShjcGEpOw0KICAgICAgICAgICAgc2VsZi5jYW1wYWlnbkRldGFpbHMucHJlbWl1bVVzZXJzQ29zdFBlckFjdGlvbi5zZXQobmV3VXNlck9wQ29kZSwgY3BhKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlcXVpcmUoc2VsZi5jYW1wYWlnbkRldGFpbHMucmVndWxhclVzZXJzQ29zdFBlckFjdGlvbi5nZXQobmV3VXNlck9wQ29kZSkgIT0gbnVsbCwgIkNhbiBvbmx5IGFkZCBvcCBjb2RlcyIpOw0KICAgICAgICAgICAgc2VsZi51cGRhdGVNYXhDcGFWYWx1ZShjcGEpOw0KICAgICAgICAgICAgc2VsZi5jYW1wYWlnbkRldGFpbHMucmVndWxhclVzZXJzQ29zdFBlckFjdGlvbi5zZXQobmV3VXNlck9wQ29kZSwgY3BhKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJlY2VpdmUobXNnOiBBZHZlcnRpc2VyVXNlckFjdGlvbikgew0KICAgICAgICANCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLmFkdmVydGlzZXIsICJPbmx5IGFkdmVydGlzZXIgY2FuIHZlcmlmeSB0aGVzZSBldmVudHMiKTsNCiAgICAgICAgcmVxdWlyZShtc2cudXNlckFjdGlvbk9wQ29kZSA+IFVTRVJfQUNUSU9OX09QX0NPREVTX0JPVCwgIkFkdmVydGlzZXIgY2FuIHZlcmlmeSBvbmx5IG9wIGNvZGVzIG92ZXIgMjAwMDAiKTsNCg0KICAgICAgICBzZWxmLmFwcGx5VXNlckFjdGlvbihtc2cudXNlckFjdGlvbk9wQ29kZSwgbXNnLmFmZmlsaWF0ZUlkLCBtc2cuaXNQcmVtaXVtVXNlcik7DQogICAgfQ0KDQogICAgZnVuIHVwZGF0ZVVzZXJTdGF0KHVzZXJBY3Rpb25TdGF0c09wdGlvbmFsOiBVc2VyQWN0aW9uU3RhdHM/LCBjdXJyVGltZTogSW50KTogVXNlckFjdGlvblN0YXRzIHsNCg0KICAgICAgICBsZXQgcmVzdWx0ID0gVXNlckFjdGlvblN0YXRze2xhc3RVc2VyQWN0aW9uVGltZXN0YW1wOiAwLCBudW1BY3Rpb25zOiAwfTsNCiAgICAgICAgaWYgKHVzZXJBY3Rpb25TdGF0c09wdGlvbmFsICE9IG51bGwpIHsNCiAgICAgICAgICAgIHJlc3VsdCA9IHVzZXJBY3Rpb25TdGF0c09wdGlvbmFsISE7DQogICAgICAgIH0NCiAgICAgICAgcmVzdWx0Lm51bUFjdGlvbnMgKz0gMTsNCiAgICAgICAgcmVzdWx0Lmxhc3RVc2VyQWN0aW9uVGltZXN0YW1wID0gY3VyclRpbWU7IA0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCg0KICAgIGZ1biBhcHBseVVzZXJBY3Rpb24odXNlckFjdGlvbk9wQ29kZTogSW50LCBhZmZpbGlhdGVJZDogSW50LCBpc1ByZW1pdW1Vc2VyOiBCb29sKSB7DQoNCiAgICAgICAgcmVxdWlyZShzZWxmLmlzQ2FtcGFpZ25BY3RpdmUoKSwgIkNhbXBhaWduIGlzIG5vdCBhY3RpdmUiKTsNCg0KICAgICAgICBsZXQgYWZmaWxpYXRlRGF0YU9wdGlvbmFsID0gc2VsZi5hZmZpbGlhdGVzLmdldChhZmZpbGlhdGVJZCk7DQogICAgICAgIHJlcXVpcmUoYWZmaWxpYXRlRGF0YU9wdGlvbmFsICE9IG51bGwsICJBZmZpbGlhdGUgZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgbGV0IGFmZmlsaWF0ZURhdGE6IEFmZmlsaWF0ZURhdGEgPSBhZmZpbGlhdGVEYXRhT3B0aW9uYWwhITsNCg0KICAgICAgICByZXF1aXJlKGFmZmlsaWF0ZURhdGEuc3RhdGUgPT0gU1RBVEVfQUZGSUxJQVRFX0FDVElWRSwgIkluYWN0aXZlIGFmZmlsaWF0ZSIpOw0KDQogICAgICAgIGxldCBjcGFPcHRpb25hbDogSW50PyA9IG51bGw7DQogICAgICAgIGlmIChpc1ByZW1pdW1Vc2VyKSB7DQogICAgICAgICAgICBjcGFPcHRpb25hbCA9IHNlbGYuY2FtcGFpZ25EZXRhaWxzLnByZW1pdW1Vc2Vyc0Nvc3RQZXJBY3Rpb24uZ2V0KHVzZXJBY3Rpb25PcENvZGUpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY3BhT3B0aW9uYWwgPSBzZWxmLmNhbXBhaWduRGV0YWlscy5yZWd1bGFyVXNlcnNDb3N0UGVyQWN0aW9uLmdldCh1c2VyQWN0aW9uT3BDb2RlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJlcXVpcmUoY3BhT3B0aW9uYWwgIT0gbnVsbCwgIkNhbm5vdCBmaW5kIGNwYSBmb3IgdGhlIGdpdmVuIG9wIGNvZGUiKTsNCiAgICAgICAgbGV0IGNvc3RQZXJBY3Rpb246IEludCA9IGNwYU9wdGlvbmFsISE7DQoJCSAgICAgICAgDQogICAgICAgIC8vIHByb2Nlc3MgdXNlciBhY3Rpb24gLSBubyBuZWVkIHRvIGNoZWNrIG9wdGlvbmFsIGJlY2F1c2Ugd2Ugc2V0IGl0IHdoZW4gYWR2ZXJ0aXNlciBzZXR1cCB0aGUgY2FtcGFpZ24NCiAgICAgICAgbGV0IGN1cnJUaW1lOiBJbnQgPSBub3coKTsNCiAgICAgICAgaWYgKGlzUHJlbWl1bVVzZXIpIHsNCiAgICAgICAgICAgIGxldCB1c2VyQWN0aW9uU3RhdHNPcHRpb25hbDogVXNlckFjdGlvblN0YXRzPyA9IGFmZmlsaWF0ZURhdGEucHJlbWl1bVVzZXJBY3Rpb25zU3RhdHMuZ2V0KHVzZXJBY3Rpb25PcENvZGUpOw0KICAgICAgICAgICAgbGV0IHVzZXJBY3Rpb25TdGF0cyA9IHNlbGYudXBkYXRlVXNlclN0YXQodXNlckFjdGlvblN0YXRzT3B0aW9uYWwsIGN1cnJUaW1lKTsNCiAgICAgICAgICAgIGFmZmlsaWF0ZURhdGEucHJlbWl1bVVzZXJBY3Rpb25zU3RhdHMuc2V0KHVzZXJBY3Rpb25PcENvZGUsIHVzZXJBY3Rpb25TdGF0cyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsZXQgdXNlckFjdGlvblN0YXRzT3B0aW9uYWw6IFVzZXJBY3Rpb25TdGF0cz8gPSBhZmZpbGlhdGVEYXRhLnVzZXJBY3Rpb25zU3RhdHMuZ2V0KHVzZXJBY3Rpb25PcENvZGUpOw0KICAgICAgICAgICAgbGV0IHVzZXJBY3Rpb25TdGF0cyA9IHNlbGYudXBkYXRlVXNlclN0YXQodXNlckFjdGlvblN0YXRzT3B0aW9uYWwsIGN1cnJUaW1lKTsNCiAgICAgICAgICAgIGFmZmlsaWF0ZURhdGEudXNlckFjdGlvbnNTdGF0cy5zZXQodXNlckFjdGlvbk9wQ29kZSwgdXNlckFjdGlvblN0YXRzKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIGVhcm5pbmdzIGZvciB0aGUgYWZmaWxpYXRlDQogICAgICAgIGlmIChzZWxmLmNhbXBhaWduRGV0YWlscy5yZXF1aXJlc0FkdmVydGlzZXJBcHByb3ZhbEZvcldpdGhkcmF3bCkgew0KICAgICAgICAgICAgYWZmaWxpYXRlRGF0YS5wZW5kaW5nQXBwcm92YWxFYXJuaW5ncyArPSBjb3N0UGVyQWN0aW9uOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWZmaWxpYXRlRGF0YS53aXRoZHJhd0Vhcm5pbmdzICs9IGNvc3RQZXJBY3Rpb247DQogICAgICAgIH0NCg0KICAgICAgICBhZmZpbGlhdGVEYXRhLnRvdGFsRWFybmluZ3MgKz0gY29zdFBlckFjdGlvbjsNCiAgICAgICAgc2VsZi5hZmZpbGlhdGVzLnNldChhZmZpbGlhdGVJZCwgYWZmaWxpYXRlRGF0YSk7ICAvLyB1cGRhdGUgYWZmaWxpYXRlIGRhdGENCg0KICAgICAgICAvLyB1cGRhdGUgY2FtcGFpZ24gc3RhdGUNCiAgICAgICAgc2VsZi5sYXN0VXNlckFjdGlvblRpbWVzdGFtcCA9IGN1cnJUaW1lOw0KICAgICAgICBzZWxmLm51bVVzZXJBY3Rpb25zICs9IDE7DQogICAgICAgIHNlbGYudG90YWxBZmZpbGlhdGVFYXJuaW5ncyArPSBjb3N0UGVyQWN0aW9uOw0KCQlzZWxmLnVwZGF0ZVRvcEFmZmlsaWF0ZXMoYWZmaWxpYXRlSWQsIGFmZmlsaWF0ZURhdGEudG90YWxFYXJuaW5ncyk7DQogICAgfQ0KDQogICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSAiVG9wIDMgQWZmaWxpYXRlcyIgZHluYW1pY2FsbHkNCiAgICBmdW4gdXBkYXRlVG9wQWZmaWxpYXRlcyhhZmZpbGlhdGVJZDogSW50LCBlYXJuaW5nczogSW50KSB7DQoNCiAgICAgICAgLy8gSWYgdGhlIGFmZmlsaWF0ZSBpcyBhbHJlYWR5IGluIHRoZSB0b3AgMywgdXBkYXRlIHRoZWlyIGVhcm5pbmdzDQogICAgICAgIGlmIChzZWxmLnRvcEFmZmlsaWF0ZXMuZ2V0KGFmZmlsaWF0ZUlkKSAhPSBudWxsKSB7DQogICAgICAgICAgICBzZWxmLnRvcEFmZmlsaWF0ZXMuc2V0KGFmZmlsaWF0ZUlkLCBlYXJuaW5ncyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICAvLyBGaW5kIHRoZSBsb3dlc3QgZWFybmVyIGluIHRoZSBjdXJyZW50IHRvcCAzIGFuZCBjb3VudCB0aGUgbnVtYmVyIG9mIGFmZmlsaWF0ZXMgaW4gdGhlIGxpc3QNCiAgICAgICAgbGV0IG1pbkVhcm5pbmdzOiBJbnQ/ID0gbnVsbDsNCiAgICAgICAgbGV0IG1pbklkOiBJbnQgPSAwOw0KICAgICAgICBsZXQgbnVtQWZmaWxpYXRlcyA9IDA7DQoNCiAgICAgICAgZm9yZWFjaCAoaWQsIGVhcm5pbmcgaW4gc2VsZi50b3BBZmZpbGlhdGVzKSB7DQogICAgICAgICAgICBudW1BZmZpbGlhdGVzICs9IDE7DQogICAgICAgICAgICBpZiAobWluRWFybmluZ3MgPT0gbnVsbCB8fCBlYXJuaW5nIDwgbWluRWFybmluZ3MhISkgew0KICAgICAgICAgICAgICAgIG1pbkVhcm5pbmdzID0gZWFybmluZzsNCiAgICAgICAgICAgICAgICBtaW5JZCA9IGlkOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGZld2VyIHRoYW4gMyBhZmZpbGlhdGVzLCBzaW1wbHkgYWRkIHRoZSBuZXcgb25lDQogICAgICAgIGlmIChudW1BZmZpbGlhdGVzIDwgMykgew0KICAgICAgICAgICAgc2VsZi50b3BBZmZpbGlhdGVzLnNldChhZmZpbGlhdGVJZCwgZWFybmluZ3MpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gSWYgdGhlIG5ldyBhZmZpbGlhdGUncyBlYXJuaW5ncyBhcmUgaGlnaGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluaW11bSwgcmVwbGFjZSB0aGUgbG93ZXN0DQogICAgICAgIGlmIChtaW5FYXJuaW5ncyAhPSBudWxsICYmIGVhcm5pbmdzID4gbWluRWFybmluZ3MhISkgew0KICAgICAgICAgICAgc2VsZi50b3BBZmZpbGlhdGVzLmRlbChtaW5JZCk7DQogICAgICAgICAgICBzZWxmLnRvcEFmZmlsaWF0ZXMuc2V0KGFmZmlsaWF0ZUlkLCBlYXJuaW5ncyk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICANCiAgICAvLyBKZXR0b24gbm90aWZpY2F0aW9uIGRpZCBub3QgYXJyaXZlLiAgDQogICAgcmVjZWl2ZShtc2c6IFBhcmVudFRvQ2hpbGRKZXR0b25Ob3RpZmljYXRpb25NZXNzYWdlRmFpbHVyZSkgew0KICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOw0KICAgICAgICBzZWxmLmNvbnRyYWN0VVNEVEJhbGFuY2UgKz0gbXNnLmFtb3VudDsNCiAgICB9IA0KDQogICAgLy8gRnVuY3Rpb24gdG8gd2l0aGRyYXcgYW55IGFtb3VudCBvZiBVU0RUIHN0dWNrIGluIHRoZSBjb250cmFjdCBmb3IgYW55IHJlYXNvbg0KICAgIHJlY2VpdmUobXNnOiBQYXJlbnRUb0NoaWxkV2l0aGRyYXdVU0RUVG9QYXlvdXQpIHsNCiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsNCiAgICAgICAgc2VsZi50cmFuc2ZlckpldHRvblVTRFQoc2VsZi5wYXlvdXQsIG1zZy5hbW91bnQpOwkJDQogICAgfSANCg0KICAgIC8vIGlmIHBheW1lbnQgYm91bmNlcyAtIGFkanVzdCB0aGUgYWZmaWxpYXRlJ3MgcGVuZGluZ0FwcHJvdmFsRWFybmluZ3MgYW5kIHRvdGFsQWZmaWxpYXRlRWFybmluZ3MgYWNjb3JkaW5nbHkNCiAgICBmdW4gYm91bmNlZFBheW1lbnQoYWZmaWxpYXRlSWQ6IEludCwgYW1vdW50OiBJbnQpIHsNCiAgICAgICAgDQogICAgICAgIGxldCBhZmZpbGlhdGVEYXRhT3B0aW9uYWwgPSBzZWxmLmFmZmlsaWF0ZXMuZ2V0KGFmZmlsaWF0ZUlkKTsNCgkJcmVxdWlyZShhZmZpbGlhdGVEYXRhT3B0aW9uYWwgIT0gbnVsbCwgIkFmZmlsaWF0ZSBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBpZCIpOw0KCQkNCgkJbGV0IGFmZmlsaWF0ZURhdGE6IEFmZmlsaWF0ZURhdGEgPSBhZmZpbGlhdGVEYXRhT3B0aW9uYWwhITsNCgkJYWZmaWxpYXRlRGF0YS53aXRoZHJhd0Vhcm5pbmdzICs9IGFtb3VudDsNCgkJc2VsZi5hZmZpbGlhdGVzLnNldChhZmZpbGlhdGVJZCwgYWZmaWxpYXRlRGF0YSk7DQoNCgkJc2VsZi50b3RhbEFmZmlsaWF0ZUVhcm5pbmdzICs9IGFtb3VudDsNCiAgICB9DQoNCiAgICAvLyBib3VuY2VkIFVTRFQgLSBhbW91bnQgaW4gOSBkZWNpYWxzIGFscmVhZHkhDQogICAgcmVjZWl2ZShtc2c6IFBhcmVudFRvQ2hpbGRQYXlBZmZpbGlhdGVVU0RUQm91bmNlZCkgeyAgICAgDQogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7DQogICAgICAgIHNlbGYuYm91bmNlZFBheW1lbnQobXNnLmFmZmlsaWF0ZUlkLCBtc2cuYW1vdW50KTsNCiAgICAgICAgc2VsZi5jb250cmFjdFVTRFRCYWxhbmNlICs9IG1zZy5hbW91bnQ7DQogICAgfQ0KDQogICAgLy8gYm91bmNlZCBUT04NCiAgICBib3VuY2VkKG1zZzogUGF5QWZmaWxpYXRlKSB7DQogICAgICAgIHNlbGYuYm91bmNlZFBheW1lbnQobXNnLmFmZmlsaWF0ZUlkLCBtc2cuYW1vdW50KTsNCiAgICB9DQoNCiAgICBmdW4gaXNDYW1wYWlnbkFjdGl2ZSgpOiBCb29sIHsNCiAgICAgICAgDQogICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYW1wYWlnbiBkZXRhaWxzIGFyZSBzZXQNCiAgICAgICAgaWYgKHNlbGYuc3RhdGUgIT0gU1RBVEVfQ0FNUEFJR05fREVUQUlMU19TRVRfQllfQURWRVJUSVNFUikgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRyYWN0IGlzIG5vdCBzdG9wcGVkIChwYXVzZWQgYnkgYWRtaW4pDQogICAgICAgIGlmIChzZWxmLnN0b3BwZWQpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYW1wYWlnbiBpcyBub3QgZXhwaXJlZA0KICAgICAgICBpZiAoc2VsZi5pc0NhbXBhaWduRXhwaXJlZCgpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FtcGFpZ24gaGFzIHN1ZmZpY2llbnQgZnVuZHMgdG8gcGF5IHRoZSBtYXhpbXVtIENQQQ0KICAgICAgICBpZiAoIXNlbGYuY2FtcGFpZ25IYXNTdWZmaWNpZW50RnVuZHNUb1BheU1heENwYSgpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCgkJDQoJCS8vIENoZWNrIGlmIHRoZXJlIGFyZSBzdWZmaWNpZW50IFRPTiBmdW5kcyBmb3IgZ2FzIGZlZXMNCiAgICAgICAgaWYgKCFzZWxmLmNhbXBhaWduSGFzU3VmZmljaWVudFRvblRvUGF5R2FzRmVlcygpKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBJZiBhbGwgY2hlY2tzIHBhc3MsIHRoZSBjYW1wYWlnbiBpcyBhY3RpdmUNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgZnVuIGNhbXBhaWduSGFzU3VmZmljaWVudFRvblRvUGF5R2FzRmVlcygpOiBCb29sIHsNCiAgICAgICAgcmV0dXJuIChteUJhbGFuY2UoKSA+PSBDQU1QQUlHTl9CVUZGRVIpOw0KICAgIH0NCg0KDQogICAgZ2V0IGZ1biBjYW1wYWlnbkRhdGEoKTogQ2FtcGFpZ25EYXRhIHsNCiAgICAgICAgcmV0dXJuIENhbXBhaWduRGF0YSB7DQogICAgICAgICAgICBjYW1wYWlnbklkOiBzZWxmLmNhbXBhaWduSWQsDQogICAgICAgICAgICBhZHZlcnRpc2VyOiBzZWxmLmFkdmVydGlzZXIsDQogICAgICAgICAgICBvd25lcjogc2VsZi5vd25lciwNCiAgICAgICAgICAgIHBheW91dDogc2VsZi5wYXlvdXQsDQogICAgICAgICAgICBjYW1wYWlnbkRldGFpbHM6IHNlbGYuY2FtcGFpZ25EZXRhaWxzLA0KICAgICAgICAgICAgbnVtQWZmaWxpYXRlczogc2VsZi5jdXJyQWZmaWxpYXRlSWQsDQogICAgICAgICAgICB0b3RhbEFmZmlsaWF0ZUVhcm5pbmdzOiBzZWxmLnRvdGFsQWZmaWxpYXRlRWFybmluZ3MsDQogICAgICAgICAgICBjYW1wYWlnblN0YXJ0VGltZXN0YW1wOiBzZWxmLmNhbXBhaWduU3RhcnRUaW1lc3RhbXAsDQogICAgICAgICAgICBsYXN0VXNlckFjdGlvblRpbWVzdGFtcDogc2VsZi5sYXN0VXNlckFjdGlvblRpbWVzdGFtcCwNCiAgICAgICAgICAgIG51bUFkdmVydGlzZXJXaXRoZHJhd2xzOiBzZWxmLm51bUFkdmVydGlzZXJXaXRoZHJhd2xzLA0KICAgICAgICAgICAgbnVtVXNlckFjdGlvbnM6IHNlbGYubnVtVXNlckFjdGlvbnMsDQogICAgICAgICAgICBudW1BZHZlcnRpc2VyU2lnbk9mZnM6IHNlbGYubnVtQWR2ZXJ0aXNlclNpZ25PZmZzLA0KICAgICAgICAgICAgbnVtQWR2ZXJ0aXNlclJlcGxlbmlzaENhbXBhaWduOiBzZWxmLm51bUFkdmVydGlzZXJSZXBsZW5pc2hDYW1wYWlnbiwNCiAgICAgICAgICAgIG51bUFkdmVydGlzZXJSZXBsZW5pc2hHYXNGZWVzOiBzZWxmLm51bUFkdmVydGlzZXJSZXBsZW5pc2hHYXNGZWVzLA0KICAgICAgICAgICAgc3RhdGU6IHNlbGYuc3RhdGUsDQogICAgICAgICAgICBjYW1wYWlnbkJhbGFuY2U6IHNlbGYuY2FsY0NhbXBhaWduQmFsYW5jZSgpLA0KICAgICAgICAgICAgbWF4Q3BhVmFsdWU6IHNlbGYubWF4Q3BhVmFsdWUsDQogICAgICAgICAgICBjb250cmFjdFRvbkJhbGFuY2U6IG15QmFsYW5jZSgpLA0KICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBteUFkZHJlc3MoKSwNCiAgICAgICAgICAgIGNvbnRyYWN0VVNEVEJhbGFuY2U6IHNlbGYuY29udHJhY3RVU0RUQmFsYW5jZSwgIC8vIDkgZGVjaW1hbHMNCiAgICAgICAgICAgIGNvbnRyYWN0VXNkdFdhbGxldDogc2VsZi5jb250cmFjdFVzZHRXYWxsZXQsDQogICAgICAgICAgICBhZHZlcnRpc2VyRmVlUGVyY2VudGFnZTogc2VsZi5hZHZlcnRpc2VyRmVlUGVyY2VudGFnZSwNCiAgICAgICAgICAgIGFmZmlsaWF0ZUZlZVBlcmNlbnRhZ2U6IHNlbGYuYWZmaWxpYXRlRmVlUGVyY2VudGFnZSwNCiAgICAgICAgICAgIGNhbXBhaWduSGFzU3VmZmljaWVudEZ1bmRzVG9QYXlNYXhDcGE6IHNlbGYuY2FtcGFpZ25IYXNTdWZmaWNpZW50RnVuZHNUb1BheU1heENwYSgpLCANCiAgICAgICAgICAgIGlzQ2FtcGFpZ25FeHBpcmVkOiBzZWxmLmlzQ2FtcGFpZ25FeHBpcmVkKCksDQogICAgICAgICAgICBpc0NhbXBhaWduUGF1c2VkQnlBZG1pbjogc2VsZi5zdG9wcGVkLA0KICAgICAgICAgICAgY2FtcGFpZ25IYXNTdWZmaWNpZW50VG9uVG9QYXlHYXNGZWVzOiBzZWxmLmNhbXBhaWduSGFzU3VmZmljaWVudFRvblRvUGF5R2FzRmVlcygpLA0KICAgICAgICAgICAgaXNDYW1wYWlnbkFjdGl2ZTogc2VsZi5pc0NhbXBhaWduQWN0aXZlKCksDQogICAgICAgICAgICB0b3BBZmZpbGlhdGVzOiBzZWxmLnRvcEFmZmlsaWF0ZXMNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGdldCBmdW4gYWZmaWxpYXRlRGF0YShhZmZpbGlhdGVJZDogSW50KTogQWZmaWxpYXRlRGF0YT8gew0KICAgICAgICByZXR1cm4gc2VsZi5hZmZpbGlhdGVzLmdldChhZmZpbGlhdGVJZCk7DQogICAgfQ0KDQogICAgZ2V0IGZ1biBhZmZpbGlhdGVzRGF0YSgpOiBtYXA8SW50LCBBZmZpbGlhdGVEYXRhPiB7DQogICAgICAgIHJldHVybiBzZWxmLmFmZmlsaWF0ZXM7DQogICAgfQ0KDQogICAgZ2V0IGZ1biBhZmZpbGlhdGVzRGF0YUluUmFuZ2UoZnJvbUlkeDogSW50LCB0b0lkeDogSW50KTogbWFwPEludCwgQWZmaWxpYXRlRGF0YT4gew0KICAgICAgICByZXF1aXJlKHRvSWR4ID4gZnJvbUlkeCwgIkludmFsaWQgaW5kaWNlcyIpOw0KICAgICAgICBsZXQgcmVzdWx0OiBtYXA8SW50LCBBZmZpbGlhdGVEYXRhPiA9IGVtcHR5TWFwKCk7DQogICAgICAgIGxldCBpOiBJbnQgPSAwOw0KICAgICAgICByZXBlYXQgKHRvSWR4IC0gZnJvbUlkeCkgeyAgDQogICAgICAgICAgICBpZiAoc2VsZi5hZmZpbGlhdGVzLmdldChmcm9tSWR4ICsgaSkgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbUlkeCArIGksIHNlbGYuYWZmaWxpYXRlcy5nZXQoZnJvbUlkeCArIGkpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGkgPSBpICsgMTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCgkNCglnZXQgZnVuIGJhbGFuY2UoKTogSW50IHsNCiAgICAgICAgcmV0dXJuIG15QmFsYW5jZSgpOyAvLyBpbiBuYW5vLXRvbnMgKGxpa2UgY2VudHMsIGp1c3Qgd2l0aCA5IGRlY2ltYWxzKQ0KICAgIH0NCg0KfQ0KDQoNCi8vIG93bmVyIENvbnRyYWN0DQpjb250cmFjdCBBZmZpbGlhdGVNYXJrZXRwbGFjZSB3aXRoIERlcGxveWFibGUsIFJlc3VtYWJsZSAgew0KDQogICAgLy8gc3RhdGUNCiAgICBvd25lcjogQWRkcmVzczsNCiAgICBzdG9wcGVkOiBCb29sOw0KICAgIGJvdDogQWRkcmVzczsNCg0KICAgIG51bUNhbXBhaWduczogSW50IGFzIHVpbnQzMjsgDQoJdXNkdE1hc3RlckFkZHJlc3M6IEFkZHJlc3M7DQogICAgdXNkdFdhbGxldEJ5dGVjb2RlOiBDZWxsOw0KICAgIGFmZmlsaWF0ZUZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7DQogICAgYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U6IEludCBhcyB1aW50MzI7DQoJDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBpbml0KGJvdDogQWRkcmVzcywgdXNkdE1hc3RlckFkZHJlc3M6IEFkZHJlc3MsIHVzZHRXYWxsZXRCeXRlY29kZTogQ2VsbCwgDQogICAgICAgICBhZHZlcnRpc2VyRmVlUGVyY2VudGFnZTogSW50LCBhZmZpbGlhdGVGZWVQZXJjZW50YWdlOiBJbnQpIHsNCiAgICAgICAgc2VsZi5vd25lciA9IHNlbmRlcigpOw0KICAgICAgICBzZWxmLnN0b3BwZWQgPSBmYWxzZTsNCiAgICAgICAgc2VsZi5ib3QgPSBib3Q7DQogICAgICAgIHNlbGYudXNkdE1hc3RlckFkZHJlc3MgPSB1c2R0TWFzdGVyQWRkcmVzczsNCiAgICAgICAgc2VsZi51c2R0V2FsbGV0Qnl0ZWNvZGUgPSB1c2R0V2FsbGV0Qnl0ZWNvZGU7DQogICAgICAgIHNlbGYuYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2UgPSBhZHZlcnRpc2VyRmVlUGVyY2VudGFnZTsNCiAgICAgICAgc2VsZi5hZmZpbGlhdGVGZWVQZXJjZW50YWdlID0gYWZmaWxpYXRlRmVlUGVyY2VudGFnZTsNCiAgICAgICAgc2VsZi5udW1DYW1wYWlnbnMgPSAwOyANCiAgICB9DQoNCiAgICBnZXQgZnVuIGJhbGFuY2UoKTogSW50IHsNCiAgICAgICAgcmV0dXJuIG15QmFsYW5jZSgpOyAvLyBpbiBuYW5vLXRvbnMgKGxpa2UgY2VudHMsIGp1c3Qgd2l0aCA5IGRlY2ltYWxzKQ0KICAgIH0NCg0KICAgIGdldCBmdW4gYm90KCk6IEFkZHJlc3Mgew0KICAgICAgICByZXR1cm4gc2VsZi5ib3Q7IA0KICAgIH0NCg0KICAgIGdldCBmdW4gbnVtQ2FtcGFpZ25zKCk6IEludCB7DQogICAgICAgIHJldHVybiBzZWxmLm51bUNhbXBhaWduczsgDQogICAgfQ0KDQogICAgZ2V0IGZ1biBjYW1wYWlnbkNvbnRyYWN0QWRkcmVzcyhjYW1wYWlnbklkOiBJbnQsIGFkdmVydGlzZXI6IEFkZHJlc3MpOiBBZGRyZXNzIHsNCiAgICAgICAgcmV0dXJuIGNvbnRyYWN0QWRkcmVzcyhzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQoY2FtcGFpZ25JZCwgYWR2ZXJ0aXNlcikpOw0KICAgIH0NCg0KICAgIGZ1biBjYW1wYWlnbkNvbnRyYWN0U3RhdGVJbml0KGNhbXBhaWduSWQ6IEludCwgYWR2ZXJ0aXNlcjogQWRkcmVzcyk6IFN0YXRlSW5pdCB7DQogICAgICAgIGxldCBpbml0Q29kZTogU3RhdGVJbml0ID0gaW5pdE9mIENhbXBhaWduKG15QWRkcmVzcygpLCBjYW1wYWlnbklkLCBhZHZlcnRpc2VyLCBzZWxmLm93bmVyLCBzZWxmLmJvdCwgDQogICAgICAgICAgICAgICAgc2VsZi51c2R0TWFzdGVyQWRkcmVzcywgc2VsZi51c2R0V2FsbGV0Qnl0ZWNvZGUsIHNlbGYuYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2UsIHNlbGYuYWZmaWxpYXRlRmVlUGVyY2VudGFnZSk7DQogICAgICAgIHJldHVybiBpbml0Q29kZTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5SZXBsZW5pc2gpIHsNCiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5VcGRhdGVGZWVCYWxhbmNlKSB7DQogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7DQogICAgICAgIHNlbGYuYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2UgPSBtc2cuYWR2ZXJ0aXNlckZlZVBlcmNlbnRhZ2U7DQogICAgICAgIHNlbGYuYWZmaWxpYXRlRmVlUGVyY2VudGFnZSA9IG1zZy5hZmZpbGlhdGVGZWVQZXJjZW50YWdlOw0KICAgIH0NCg0KICAgIHJlY2VpdmUobXNnOiBBZG1pbldpdGhkcmF3KSB7DQoNCiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsNCg0KICAgICAgICBsZXQgYnVmZmVyOiBJbnQgPSB0b24oIjEiKTsNCiAgICAgICAgcmVxdWlyZShteUJhbGFuY2UoKSA+PSBtc2cuYW1vdW50ICsgYnVmZmVyLCAiSW5zdWZmaWNpZW50IGNvbnRyYWN0IGZ1bmRzIHRvIG1ha2UgcGF5bWVudCIpOw0KDQogICAgICAgIGxldCBudW1XYWxsZXRzOiBJbnQgPSAwOw0KICAgICAgICBmb3JlYWNoKHdhbGxldCx2IGluIG1zZy53YWxsZXRzKSB7DQogICAgICAgICAgICBudW1XYWxsZXRzID0gbnVtV2FsbGV0cyArIDE7DQogICAgICAgIH0NCg0KICAgICAgICByZXF1aXJlKG51bVdhbGxldHMgPiAwLCAiTXVzdCBoYXZlIGF0IGxlYXN0IG9uZSB3YWxsZXQgdG8gd2l0aGRyYXcgdG8iKTsNCg0KICAgICAgICBsZXQgZnJhY3Rpb246IEludCA9IG1zZy5hbW91bnQ7DQogICAgICAgIGlmIChudW1XYWxsZXRzID4gMSkgew0KICAgICAgICAgICAgZnJhY3Rpb24gPSBmcmFjdGlvbiAvIG51bVdhbGxldHM7DQogICAgICAgIH0NCg0KICAgICAgICBmb3JlYWNoKHdhbGxldCx2IGluIG1zZy53YWxsZXRzKSB7DQogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzew0KICAgICAgICAgICAgICAgIHRvOiB3YWxsZXQsDQogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiBmcmFjdGlvbiwNCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5TdG9wQ2FtcGFpZ24pIHsNCg0KICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOw0KDQogICAgICAgIGxldCBpbml0OiBTdGF0ZUluaXQgPSBzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQobXNnLmNhbXBhaWduSWQsIG1zZy5hZHZlcnRpc2VyKTsNCiAgICAgICAgbGV0IGNhbXBhaWduQ29udHJhY3RBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKGluaXQpOw0KDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogY2FtcGFpZ25Db250cmFjdEFkZHJlc3MsDQogICAgICAgICAgICBib2R5OiAiU3RvcCIuYXNDb21tZW50KCksIA0KICAgICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEFkbWluUmVzdW1lQ2FtcGFpZ24pIHsNCg0KICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOw0KDQogICAgICAgIGxldCBpbml0OiBTdGF0ZUluaXQgPSBzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQobXNnLmNhbXBhaWduSWQsIG1zZy5hZHZlcnRpc2VyKTsNCiAgICAgICAgbGV0IGNhbXBhaWduQ29udHJhY3RBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKGluaXQpOw0KDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogY2FtcGFpZ25Db250cmFjdEFkZHJlc3MsDQogICAgICAgICAgICBib2R5OiAiUmVzdW1lIi5hc0NvbW1lbnQoKSwgDQogICAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5TZWl6ZUNhbXBhaWduQmFsYW5jZSkgew0KDQogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7DQoNCiAgICAgICAgbGV0IGluaXQ6IFN0YXRlSW5pdCA9IHNlbGYuY2FtcGFpZ25Db250cmFjdFN0YXRlSW5pdChtc2cuY2FtcGFpZ25JZCwgbXNnLmFkdmVydGlzZXIpOw0KICAgICAgICBsZXQgY2FtcGFpZ25Db250cmFjdEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3MoaW5pdCk7DQoNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBjYW1wYWlnbkNvbnRyYWN0QWRkcmVzcywNCiAgICAgICAgICAgIGJvZHk6IFBhcmVudFRvQ2hpbGRTZWl6ZUNhbXBhaWdue30udG9DZWxsKCksIA0KICAgICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IEFkbWluUGF5QWZmaWxpYXRlVVNEVEJvdW5jZWQpIHsNCg0KICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOw0KDQogICAgICAgIGxldCBpbml0OiBTdGF0ZUluaXQgPSBzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQobXNnLmNhbXBhaWduSWQsIG1zZy5hZHZlcnRpc2VyKTsNCiAgICAgICAgbGV0IGNhbXBhaWduQ29udHJhY3RBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKGluaXQpOw0KDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogY2FtcGFpZ25Db250cmFjdEFkZHJlc3MsDQogICAgICAgICAgICBib2R5OiBQYXJlbnRUb0NoaWxkUGF5QWZmaWxpYXRlVVNEVEJvdW5jZWR7DQogICAgICAgICAgICAgICAgYWZmaWxpYXRlSWQ6IG1zZy5hZmZpbGlhdGVJZCwNCiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQNCiAgICAgICAgICAgIH0udG9DZWxsKCksDQogICAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5KZXR0b25Ob3RpZmljYXRpb25NZXNzYWdlRmFpbHVyZSkgew0KDQogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7DQoNCiAgICAgICAgbGV0IGluaXQ6IFN0YXRlSW5pdCA9IHNlbGYuY2FtcGFpZ25Db250cmFjdFN0YXRlSW5pdChtc2cuY2FtcGFpZ25JZCwgbXNnLmFkdmVydGlzZXIpOw0KICAgICAgICBsZXQgY2FtcGFpZ25Db250cmFjdEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3MoaW5pdCk7DQoNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBjYW1wYWlnbkNvbnRyYWN0QWRkcmVzcywNCiAgICAgICAgICAgIGJvZHk6IFBhcmVudFRvQ2hpbGRKZXR0b25Ob3RpZmljYXRpb25NZXNzYWdlRmFpbHVyZXsNCiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQNCiAgICAgICAgICAgIH0udG9DZWxsKCksDQogICAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQWRtaW5XaXRoZHJhd1VTRFRUb1BheW91dCkgew0KDQogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7DQoNCiAgICAgICAgbGV0IGluaXQ6IFN0YXRlSW5pdCA9IHNlbGYuY2FtcGFpZ25Db250cmFjdFN0YXRlSW5pdChtc2cuY2FtcGFpZ25JZCwgbXNnLmFkdmVydGlzZXIpOw0KICAgICAgICBsZXQgY2FtcGFpZ25Db250cmFjdEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3MoaW5pdCk7DQoNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiBjYW1wYWlnbkNvbnRyYWN0QWRkcmVzcywNCiAgICAgICAgICAgIGJvZHk6IFBhcmVudFRvQ2hpbGRXaXRoZHJhd1VTRFRUb1BheW91dHsNCiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQNCiAgICAgICAgICAgIH0udG9DZWxsKCksDQogICAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQ2hpbGRUb1BhcmVudEFkdmVydGlzZXJBcHByb3ZlZEFmZmlsaWF0ZSkgew0KCQkNCgkJbGV0IGV4cGVjdGVkQWRkcmVzczogQWRkcmVzcyA9IGNvbnRyYWN0QWRkcmVzcyhzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQobXNnLmNhbXBhaWduSWQsIG1zZy5hZHZlcnRpc2VyKSk7DQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gZXhwZWN0ZWRBZGRyZXNzLCAiQWNjZXNzIGRlbmllZCIpOw0KDQogICAgICAgICBlbWl0KEFkdmVydGlzZXJBcHByb3ZlZEFmZmlsaWF0ZUxpc3RFdmVudHsNCiAgICAgICAgICAgICAgICBjYW1wYWlnbklkOiBtc2cuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBtc2cuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgICAgICBhZmZpbGlhdGVJZDogbXNnLmFmZmlsaWF0ZUlkLA0KICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogbXNnLmFmZmlsaWF0ZQ0KICAgICAgICB9LnRvQ2VsbCgpKTsNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQ2hpbGRUb1BhcmVudEFkdmVydGlzZXJSZW1vdmVkQWZmaWxpYXRlKSB7DQoJCQ0KCQlsZXQgZXhwZWN0ZWRBZGRyZXNzOiBBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzKHNlbGYuY2FtcGFpZ25Db250cmFjdFN0YXRlSW5pdChtc2cuY2FtcGFpZ25JZCwgbXNnLmFkdmVydGlzZXIpKTsNCiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBleHBlY3RlZEFkZHJlc3MsICJBY2Nlc3MgZGVuaWVkIik7DQoNCiAgICAgICAgIGVtaXQoQWR2ZXJ0aXNlclJlbW92ZWRBZmZpbGlhdGVFdmVudHsNCiAgICAgICAgICAgICAgICBjYW1wYWlnbklkOiBtc2cuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBtc2cuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgICAgICBhZmZpbGlhdGVJZDogbXNnLmFmZmlsaWF0ZUlkLA0KICAgICAgICAgICAgICAgIGFmZmlsaWF0ZTogbXNnLmFmZmlsaWF0ZQ0KICAgICAgICB9LnRvQ2VsbCgpKTsNCiAgICB9DQoJDQoJDQogICAgcmVjZWl2ZShtc2c6IENoaWxkVG9QYXJlbnRBZHZlcnRpc2VyV2l0aGRyYXdGdW5kcykgew0KDQogICAgICAgIGxldCBleHBlY3RlZEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3Moc2VsZi5jYW1wYWlnbkNvbnRyYWN0U3RhdGVJbml0KG1zZy5jYW1wYWlnbklkLCBtc2cuYWR2ZXJ0aXNlcikpOw0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IGV4cGVjdGVkQWRkcmVzcywgIkFjY2VzcyBkZW5pZWQiKTsNCg0KICAgICAgICBlbWl0KEFkdmVydGlzZXJXaXRoZHJhd0Z1bmRzRXZlbnR7DQogICAgICAgICAgICBjYW1wYWlnbklkOiBtc2cuY2FtcGFpZ25JZCwNCiAgICAgICAgICAgIGFkdmVydGlzZXI6IG1zZy5hZHZlcnRpc2VyLA0KICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50fS50b0NlbGwoKSk7DQoNCiAgICB9DQoNCiAgICByZWNlaXZlKG1zZzogQ2hpbGRUb1BhcmVudEFkdmVydGlzZXJTaWduZWRDYW1wYWlnbkRldGFpbHMpIHsNCiAgICAgICAgDQogICAgICAgIGxldCBleHBlY3RlZEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3Moc2VsZi5jYW1wYWlnbkNvbnRyYWN0U3RhdGVJbml0KG1zZy5jYW1wYWlnbklkLCBtc2cuYWR2ZXJ0aXNlcikpOw0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IGV4cGVjdGVkQWRkcmVzcywgIkFjY2VzcyBkZW5pZWQiKTsNCg0KICAgICAgICBlbWl0KEFkdmVydGlzZXJTaWduZWRDYW1wYWlnbkRldGFpbHNFdmVudHsNCiAgICAgICAgICAgIGNhbXBhaWduSWQ6IG1zZy5jYW1wYWlnbklkLA0KICAgICAgICAgICAgYWR2ZXJ0aXNlcjogbXNnLmFkdmVydGlzZXINCiAgICAgICAgfS50b0NlbGwoKSk7DQogICAgfQ0KDQogICAgcmVjZWl2ZShtc2c6IENoaWxkVG9QYXJlbnRBZmZpbGlhdGVDcmVhdGVkKSB7DQoNCiAgICAgICAgbGV0IGV4cGVjdGVkQWRkcmVzczogQWRkcmVzcyA9IGNvbnRyYWN0QWRkcmVzcyhzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQobXNnLmNhbXBhaWduSWQsIG1zZy5hZHZlcnRpc2VyKSk7DQogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gZXhwZWN0ZWRBZGRyZXNzLCAiQWNjZXNzIGRlbmllZCIpOw0KDQogICAgICAgIGVtaXQoQWZmaWxpYXRlQ3JlYXRlZEV2ZW50ew0KICAgICAgICAgICAgY2FtcGFpZ25JZDogbXNnLmNhbXBhaWduSWQsDQogICAgICAgICAgICBhZmZpbGlhdGVJZDogbXNnLmFmZmlsaWF0ZUlkLA0KICAgICAgICAgICAgYWR2ZXJ0aXNlcjogbXNnLmFkdmVydGlzZXIsDQogICAgICAgICAgICBhZmZpbGlhdGU6IG1zZy5hZmZpbGlhdGUsDQogICAgICAgICAgICBzdGF0ZTogbXNnLnN0YXRlDQogICAgICAgIH0udG9DZWxsKCkpOw0KICAgIH0NCg0KICAgIC8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBjYW1wYWlnbg0KICAgIHJlY2VpdmUobXNnOiBBZHZlcnRpc2VyRGVwbG95TmV3Q2FtcGFpZ24pIHsNCiAgICAgICAgDQoJCXNlbGYucmVxdWlyZU5vdFN0b3BwZWQoKTsNCiAgICAgICAgcmVxdWlyZShjb250ZXh0KCkudmFsdWUgPiBERVBMT1lfTkVXX0NPTlRSQUNUX0NPU1QgKyBHQVNfRkVFLCAiSW5zdWZmaWNpZW50IGZ1bmRzIHRvIGRlcGxveSBuZXcgY2FtcGFpZ24iKTsNCg0KICAgICAgICBsZXQgY2FtcGFpZ25JZDogSW50ID0gcmFuZG9tKDAsIDQyOTQ5NjcyOTQpOyAvLyBHZW5lcmF0ZSBhIG5ldyByYW5kb20gbnVtYmVyLCB3aGljaCBpcyBhbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlcg0KICAgICAgICBzZWxmLm51bUNhbXBhaWducyArPSAxOw0KDQogICAgICAgIGxldCBpbml0OiBTdGF0ZUluaXQgPSBzZWxmLmNhbXBhaWduQ29udHJhY3RTdGF0ZUluaXQoY2FtcGFpZ25JZCwgc2VuZGVyKCkpOw0KICAgICAgICBsZXQgY2FtcGFpZ25Db250cmFjdEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3MoaW5pdCk7DQoNCiAgICAgICAgLy8gZGVwbG95IGNvbnRyYWN0DQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogY2FtcGFpZ25Db250cmFjdEFkZHJlc3MsDQogICAgICAgICAgICB2YWx1ZTogREVQTE9ZX05FV19DT05UUkFDVF9DT1NULA0KICAgICAgICAgICAgY29kZTogaW5pdC5jb2RlLA0KICAgICAgICAgICAgZGF0YTogaW5pdC5kYXRhLA0KICAgICAgICAgICAgYm9keTogUGFyZW50VG9DaGlsZERlcGxveUNhbXBhaWdue2NhbXBhaWduSWQ6IGNhbXBhaWduSWQsIGFkdmVydGlzZXI6IHNlbmRlcigpfS50b0NlbGwoKSwNCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5DQogICAgICAgIH0pOw0KICAgIH0NCg0KICAgIHJlY2VpdmUobXNnOiBDaGlsZFRvUGFyZW50Q2FtcGFpZ25EZXBsb3llZFN1Y2Nlc3NmdWxseSkgew0KDQogICAgICAgIGxldCBleHBlY3RlZEFkZHJlc3M6IEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3Moc2VsZi5jYW1wYWlnbkNvbnRyYWN0U3RhdGVJbml0KG1zZy5jYW1wYWlnbklkLCBtc2cuYWR2ZXJ0aXNlcikpOw0KICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IGV4cGVjdGVkQWRkcmVzcywgIkFjY2VzcyBkZW5pZWQiKTsNCg0KICAgICAgICBlbWl0KENhbXBhaWduQ3JlYXRlZEV2ZW50ew0KICAgICAgICAgICAgY2FtcGFpZ25JZDogbXNnLmNhbXBhaWduSWQsDQogICAgICAgICAgICBhZHZlcnRpc2VyOiBtc2cuYWR2ZXJ0aXNlciwNCiAgICAgICAgICAgIGNhbXBhaWduQ29udHJhY3RBZGRyZXNzOiBleHBlY3RlZEFkZHJlc3MNCiAgICAgICAgfS50b0NlbGwoKSk7DQogICAgfQ0KDQogICAgLy8gcmVjZWl2ZSBhbnkgYW1vdW50IG9mIGluY29taW5nIFRPTg0KICAgIHJlY2VpdmUoKSB7fQ0KDQogICAgLy8gcmVjZWl2ZSgiUmVzdW1lIikgaXMgYWRkZWQgYXV0b21hdGljYWxseSB0byBhbGxvdyBvd25lciB0byByZXN1bWUgdGhlIGNvbnRyYWN0DQogICAgLy8gcmVjZWl2ZSgiU3RvcCIpIGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgdG8gYWxsb3cgb3duZXIgdG8gc3RvcCB0aGUgY29udHJhY3QNCiAgICAvLyBnZXQgZnVuIHN0b3BwZWQoKTogQm9vbCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IHRvIHF1ZXJ5IGlmIGNvbnRyYWN0IGlzIHN0b3BwZWQNCiAgICAvLyBnZXQgZnVuIG93bmVyKCk6IEFkZHJlc3MgaXMgYWRkZWQgYXV0b21hdGljYWxseSB0byBxdWVyeSB3aG8gdGhlIG93bmVyIGlzDQp9"},"compiler":{"name":"tact","version":"1.5.3","parameters":"{\"entrypoint\":\"contracts/affiliate_marketplace.tact\",\"options\":{\"debug\":true}}"}}